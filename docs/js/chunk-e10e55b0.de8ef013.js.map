{"version":3,"sources":["webpack:///./node_modules/@aws-amplify/core/lib-esm/I18n/I18n.js","webpack:///./node_modules/@aws-amplify/core/lib-esm/I18n/index.js","webpack:///./node_modules/@aws-amplify/ui-components/dist/esm-es5/helpers-9dae6f2a.js","webpack:///./node_modules/@aws-amplify/ui-components/dist/esm-es5/constants-3e1b5fcc.js","webpack:///./node_modules/@aws-amplify/ui-components/dist/esm-es5/auth-types-78df304e.js","webpack:///./node_modules/@aws-amplify/ui-components/dist/esm-es5/amplify-radio-button_2.entry.js","webpack:///./node_modules/@aws-amplify/ui-components/dist/esm-es5/Translations-baba3f2c.js"],"names":["logger","I18n","options","this","_options","_lang","_dict","Object","assign","language","window","navigator","debug","prototype","setLanguage","lang","get","key","defVal","undefined","val","getByLanguage","indexOf","split","lang_dict","putVocabulariesForLanguage","vocabularies","putVocabularies","_this","keys","map","_config","_i18n","configure","config","createInstance","getModuleName","checkConfig","Amplify","register","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","hasShadowDom","el","shadowRoot","attachShadow","dispatchToastHubEvent","error","dispatch","event","message","dispatchAuthStateChangeEvent","nextAuthState","data","composePhoneNumberInput","phoneNumber","phoneNumberValue","Error","sanitizedPhoneNumberValue","replace","countryDialCodeValue","checkUsernameAlias","usernameAlias","values","onAuthUIStateChange","authStateHandler","authUIStateHandler","payload","_a","user","_b","SignedIn","currentAuthenticatedUser","listen","remove","isHintValid","field","requiredAttributesMap","address","ADDRESS_LABEL","placeholder","ADDRESS_PLACEHOLDER","nickname","NICKNAME_LABEL","NICKNAME_PLACEHOLDER","birthdate","BIRTHDATE_LABEL","BIRTHDATE_PLACEHOLDER","phone_number","PHONE_LABEL","PHONE_PLACEHOLDER","email","lable","EMAIL_LABEL","EMAIL_PLACEHOLDER","picture","PICTURE_LABEL","PICTURE_PLACEHOLDER","family_name","FAMILY_NAME_LABEL","FAMILY_NAME_PLACEHOLDER","preferred_username","PREFERRED_USERNAME_LABEL","PREFERRED_USERNAME_PLACEHOLDER","gender","GENDER_LABEL","GENDER_PLACEHOLDER","profile","PROFILE_LABEL","PROFILE_PLACEHOLDER","given_name","GIVEN_NAME_LABEL","zoneinfo","ZONEINFO_LABEL","ZONEINFO_PLACEHOLDER","locale","LOCALE_LABEL","LOCALE_PLACEHOLDER","updated_at","UPDATED_AT_LABEL","UPDATED_AT_PLACEHOLDER","middle_name","MIDDLE_NAME_LABEL","MIDDLE_NAME_PLACEHOLDER","website","WEBSITE_LABEL","WEBSITE_PLACEHOLDER","name","NAME_LABEL","NAME_PLACEHOLDER","USERNAME_SUFFIX","EMAIL_SUFFIX","CODE_SUFFIX","PHONE_SUFFIX","PASSWORD_SUFFIX","COUNTRY_DIAL_CODE_SUFFIX","COUNTRY_DIAL_CODE_DEFAULT","AUTH_SOURCE_KEY","REDIRECTED_FROM_HOSTED_UI","AUTHENTICATOR_AUTHSTATE","PHONE_EMPTY_ERROR_MESSAGE","NO_AUTH_MODULE_FOUND","SETUP_TOTP","USER_NOT_SETUP_SOFTWARE_TOKEN_MFA","USER_NOT_VERIFIED_SOFTWARE_TOKEN_MFA","SUCCESS","AUTH_CHANNEL","UI_AUTH_CHANNEL","TOAST_AUTH_ERROR_EVENT","AUTH_STATE_CHANGE_EVENT","AuthState","MfaOption","ChallengeName","AuthFormField","UsernameAlias","amplifyRadioButtonCss","AmplifyRadioButton","hostRef","checked","disabled","render","class","type","onInput","handleInputChange","id","fieldId","inputProps","htmlFor","style","canPromise","toString","isarray","Array","isArray","arr","typedArraySupport","Uint8Array","__proto__","foo","Buffer","TYPED_ARRAY_SUPPORT","K_MAX_LENGTH","arg","offset","allocUnsafe","from","RangeError","isnan","createBuffer","that","buf","size","i","fromString","string","byteLength","actual","write","slice","fromArrayLike","array","fromArrayBuffer","byteOffset","fromObject","obj","isBuffer","len","copy","ArrayBuffer","buffer","utf8ToBytes","units","codePoint","Infinity","leadSurrogate","bytes","charCodeAt","isView","blitBuffer","src","dst","utf8Write","species","defineProperty","configurable","enumerable","writable","isFinite","remaining","start","end","newBuf","subarray","sliceLen","target","targetStart","set","fill","code","concat","list","pos","_isBuffer","b","toSJISFunction","alloc","from_1","typedarrayBuffer","CODEWORDS_COUNT","getSymbolSize","version","getSymbolTotalCodewords","getBCHDigit","digit","setToSJISFunction","isKanjiModeEnabled","toSJIS","kanji","utils","createCommonjsModule","fn","basedir","module","path","exports","require","base","commonjsRequire","errorCorrectionLevel","lcStr","toLowerCase","L","M","Q","H","bit","isValid","level","defaultValue","BitBuffer","index","bufIndex","Math","floor","put","num","putBit","getLengthInBits","bitBuffer","BitMatrix","reservedBit","row","col","reserved","xor","isReserved","bitMatrix","alignmentPattern","getRowColCoords","posCount","intervals","ceil","positions","reverse","getPositions","coords","posLength","j","getSymbolSize$1","FINDER_PATTERN_SIZE","finderPattern","maskPattern","Patterns","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PenaltyScores","N1","N2","N3","N4","getMaskAt","mask","isNaN","parseInt","getPenaltyN1","points","sameCountCol","sameCountRow","lastCol","lastRow","getPenaltyN2","last","getPenaltyN3","bitsCol","bitsRow","getPenaltyN4","darkCount","modulesCount","k","abs","applyMask","pattern","getBestMask","setupFormatFunc","numPatterns","bestPattern","lowerPenalty","p","penalty","EC_BLOCKS_TABLE","EC_CODEWORDS_TABLE","getBlocksCount","errorCorrectionLevel$1","getTotalCodewordsCount","errorCorrectionCode","EXP_TABLE","LOG_TABLE","x","log","exp","mul","galoisField","polynomial","p1","p2","coeff","mod","divident","divisor","generateECPolynomial","degree","poly","Buffer$1","ReedSolomonEncoder","genPoly","initialize","encode","pad","paddedData","remainder","buff","reedSolomonEncoder","versionCheck","numeric","alphanumeric","byte","KANJI","RegExp","BYTE_KANJI","BYTE","NUMERIC","ALPHANUMERIC","TEST_KANJI","TEST_NUMERIC","TEST_ALPHANUMERIC","testKanji","str","test","testNumeric","testAlphanumeric","regex","mode","ccBits","MIXED","getCharCountIndicator","getBestModeForData","dataStr","G18","G18_BCH","getBestVersionForDataLength","currentVersion","getCapacity","getReservedBitsCount","mode$1","getTotalBitsFromDataArray","segments","totalBits","forEach","reservedBits","getBitsLength","getBestVersionForMixedData","totalCodewords","ecTotalCodewords","dataTotalCodewordsBits","usableBits","getBestVersionForData","seg","ecl","getLength","getEncodedBits","d","G15","G15_MASK","G15_BCH","formatInfo","NumericData","group","substr","remainingNum","numericData","ALPHA_NUM_CHARS","AlphanumericData","alphanumericData","ByteData","l","byteData","KanjiData","kanjiData","dijkstra_1","dijkstra","single_source_shortest_paths","graph","s","predecessors","costs","closest","u","cost_of_s_to_u","adjacent_nodes","cost_of_e","cost_of_s_to_u_plus_cost_of_e","cost_of_s_to_v","first_visit","open","PriorityQueue","make","empty","cost","hasOwnProperty","msg","join","extract_shortest_path_from_predecessor_list","nodes","find_path","opts","T","queue","sorter","default_sorter","a","item","sort","shift","getStringByteLength","unescape","encodeURIComponent","getSegments","exec","getSegmentsFromString","byteSegs","kanjiSegs","numSegs","alphaNumSegs","segs","s1","s2","getSegmentBitsLength","mergeSegments","reduce","acc","curr","prevSeg","buildNodes","buildGraph","table","prevNodeIds","nodeGroup","currentNodeIds","node","lastCount","prevNodeId","buildSingleSegment","modesHint","bestMode","fromArray","optimizedSegs","rawSplit","setupFinderPattern","matrix","r","c","setupTimingPattern","setupAlignmentPattern","setupVersionInfo","version$1","bits","setupFormatInfo","setupData","inc","bitIndex","byteIndex","dark","createData","remainingByte","createCodewords","dataTotalCodewords","ecTotalBlocks","blocksInGroup2","blocksInGroup1","totalCodewordsInGroup1","dataCodewordsInGroup1","dataCodewordsInGroup2","ecCount","rs","dcData","ecData","maxDataSize","dataSize","max","createSymbol","maskPattern$1","segments$1","estimatedVersion","rawSegments","bestVersion","dataBits","moduleCount","modules","bind","create","toSJISFunc","qrcode","utils$1","hex2rgba","hex","hexCode","hexValue","getOptions","color","margin","width","scale","light","rendererOpts","getScale","qrSize","getImageWidth","qrToImageData","imgData","qr","symbolSize","scaledMargin","palette","posDst","pxColor","iSrc","jSrc","canvas","clearCanvas","ctx","clearRect","height","getCanvasElement","document","createElement","qrData","canvasEl","getContext","image","createImageData","putImageData","renderToDataURL","toDataURL","quality","getColorAttrib","attrib","alpha","toFixed","svgCmd","cmd","qrToPath","moveBy","newRow","lineLength","cb","qrcodesize","bg","viewBox","svgTag","renderCanvas","renderFunc","text","args","arguments","argsNum","isLastArgCb","create$1","toCanvas","toString_1","browser","amplifyTotpSetupCss","AmplifyTOTPSetup","autoFocus","handleAuthStateChange","headerText","TOTP_HEADER_TEXT","setupMessage","qrCodeInput","loading","componentWillLoad","setup","buildOtpAuthPath","issuer","secretKey","username","checkContact","dataVerifed","newUser","error_1","verifiedContact","VerifyContact","onTOTPEvent","handleTotpInputChange","generateQRCode","codeFromTotp","error_2","qrCodeImageSource","error_3","encodeURI","setupTOTP","TOTP_SETUP_FAILURE","verifyTotpToken","error_4","preventDefault","setPreferredMFA","TOTP","TOTP_SUCCESS_MESSAGE","submitButtonText","TOTP_SUBMIT_BUTTON_TEXT","handleSubmit","alt","QR_CODE_ALT","TOTP_LABEL","Translations"],"mappings":"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","file":"js/chunk-e10e55b0.de8ef013.js","sourcesContent":["/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger } from '../Logger';\nvar logger = new Logger('I18n');\n/**\n * Language transition class\n */\nvar I18n = /** @class */ (function () {\n    /**\n     * @constructor\n     * Initialize with configurations\n     * @param {Object} options\n     */\n    function I18n(options) {\n        /**\n         * @private\n         */\n        this._options = null;\n        /**\n         * @private\n         */\n        this._lang = null;\n        /**\n         * @private\n         */\n        this._dict = {};\n        this._options = Object.assign({}, options);\n        this._lang = this._options.language;\n        if (!this._lang &&\n            typeof window !== 'undefined' &&\n            window &&\n            window.navigator) {\n            this._lang = window.navigator.language;\n        }\n        logger.debug(this._lang);\n    }\n    /**\n     * @method\n     * Explicitly setting language\n     * @param {String} lang\n     */\n    I18n.prototype.setLanguage = function (lang) {\n        this._lang = lang;\n    };\n    /**\n     * @method\n     * Get value\n     * @param {String} key\n     * @param {String} defVal - Default value\n     */\n    I18n.prototype.get = function (key, defVal) {\n        if (defVal === void 0) { defVal = undefined; }\n        if (!this._lang) {\n            return typeof defVal !== 'undefined' ? defVal : key;\n        }\n        var lang = this._lang;\n        var val = this.getByLanguage(key, lang);\n        if (val) {\n            return val;\n        }\n        if (lang.indexOf('-') > 0) {\n            val = this.getByLanguage(key, lang.split('-')[0]);\n        }\n        if (val) {\n            return val;\n        }\n        return typeof defVal !== 'undefined' ? defVal : key;\n    };\n    /**\n     * @method\n     * Get value according to specified language\n     * @param {String} key\n     * @param {String} language - Specified langurage to be used\n     * @param {String} defVal - Default value\n     */\n    I18n.prototype.getByLanguage = function (key, language, defVal) {\n        if (defVal === void 0) { defVal = null; }\n        if (!language) {\n            return defVal;\n        }\n        var lang_dict = this._dict[language];\n        if (!lang_dict) {\n            return defVal;\n        }\n        return lang_dict[key];\n    };\n    /**\n     * @method\n     * Add vocabularies for one language\n     * @param {String} language - Language of the dictionary\n     * @param {Object} vocabularies - Object that has key-value as dictionary entry\n     */\n    I18n.prototype.putVocabulariesForLanguage = function (language, vocabularies) {\n        var lang_dict = this._dict[language];\n        if (!lang_dict) {\n            lang_dict = this._dict[language] = {};\n        }\n        Object.assign(lang_dict, vocabularies);\n    };\n    /**\n     * @method\n     * Add vocabularies for one language\n     * @param {Object} vocabularies - Object that has language as key,\n     *                                vocabularies of each language as value\n     */\n    I18n.prototype.putVocabularies = function (vocabularies) {\n        var _this = this;\n        Object.keys(vocabularies).map(function (key) {\n            _this.putVocabulariesForLanguage(key, vocabularies[key]);\n        });\n    };\n    return I18n;\n}());\nexport { I18n };\n//# sourceMappingURL=I18n.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { I18n as I18nClass } from './I18n';\nimport { ConsoleLogger as Logger } from '../Logger';\nimport { Amplify } from '../Amplify';\nvar logger = new Logger('I18n');\nvar _config = null;\nvar _i18n = null;\n/**\n * Export I18n APIs\n */\nvar I18n = /** @class */ (function () {\n    function I18n() {\n    }\n    /**\n     * @static\n     * @method\n     * Configure I18n part\n     * @param {Object} config - Configuration of the I18n\n     */\n    I18n.configure = function (config) {\n        logger.debug('configure I18n');\n        if (!config) {\n            return _config;\n        }\n        _config = Object.assign({}, _config, config.I18n || config);\n        I18n.createInstance();\n        return _config;\n    };\n    I18n.getModuleName = function () {\n        return 'I18n';\n    };\n    /**\n     * @static\n     * @method\n     * Create an instance of I18n for the library\n     */\n    I18n.createInstance = function () {\n        logger.debug('create I18n instance');\n        if (_i18n) {\n            return;\n        }\n        _i18n = new I18nClass(_config);\n    };\n    /**\n     * @static @method\n     * Explicitly setting language\n     * @param {String} lang\n     */\n    I18n.setLanguage = function (lang) {\n        I18n.checkConfig();\n        return _i18n.setLanguage(lang);\n    };\n    /**\n     * @static @method\n     * Get value\n     * @param {String} key\n     * @param {String} defVal - Default value\n     */\n    I18n.get = function (key, defVal) {\n        if (!I18n.checkConfig()) {\n            return typeof defVal === 'undefined' ? key : defVal;\n        }\n        return _i18n.get(key, defVal);\n    };\n    /**\n     * @static\n     * @method\n     * Add vocabularies for one language\n     * @param {String} langurage - Language of the dictionary\n     * @param {Object} vocabularies - Object that has key-value as dictionary entry\n     */\n    I18n.putVocabulariesForLanguage = function (language, vocabularies) {\n        I18n.checkConfig();\n        return _i18n.putVocabulariesForLanguage(language, vocabularies);\n    };\n    /**\n     * @static\n     * @method\n     * Add vocabularies for one language\n     * @param {Object} vocabularies - Object that has language as key,\n     *                                vocabularies of each language as value\n     */\n    I18n.putVocabularies = function (vocabularies) {\n        I18n.checkConfig();\n        return _i18n.putVocabularies(vocabularies);\n    };\n    I18n.checkConfig = function () {\n        if (!_i18n) {\n            _i18n = new I18nClass(_config);\n        }\n        return true;\n    };\n    return I18n;\n}());\nexport { I18n };\nAmplify.register(I18n);\n/**\n * @deprecated use named import\n */\nexport default I18n;\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Logger, Hub, I18n } from '@aws-amplify/core';\nimport { U as UsernameAlias, A as AuthState } from './auth-types-78df304e.js';\nimport { T as Translations } from './Translations-baba3f2c.js';\nimport { U as UI_AUTH_CHANNEL, T as TOAST_AUTH_ERROR_EVENT, a as AUTH_STATE_CHANGE_EVENT, P as PHONE_EMPTY_ERROR_MESSAGE } from './constants-3e1b5fcc.js';\nimport Auth from '@aws-amplify/auth';\nvar logger = new Logger('helpers');\nvar hasShadowDom = function (el) {\n    return !!el.shadowRoot && !!el.attachShadow;\n};\nvar dispatchToastHubEvent = function (error) {\n    Hub.dispatch(UI_AUTH_CHANNEL, {\n        event: TOAST_AUTH_ERROR_EVENT,\n        message: error.message,\n    });\n};\nvar dispatchAuthStateChangeEvent = function (nextAuthState, data) {\n    Hub.dispatch(UI_AUTH_CHANNEL, {\n        event: AUTH_STATE_CHANGE_EVENT,\n        message: nextAuthState,\n        data: data,\n    });\n};\nvar composePhoneNumberInput = function (phoneNumber) {\n    if (!phoneNumber.phoneNumberValue) {\n        throw new Error(PHONE_EMPTY_ERROR_MESSAGE);\n    }\n    var sanitizedPhoneNumberValue = phoneNumber.phoneNumberValue.replace(/[-()\\s]/g, '');\n    return \"\" + phoneNumber.countryDialCodeValue + sanitizedPhoneNumberValue;\n};\nvar checkUsernameAlias = function (usernameAlias) {\n    if (!(usernameAlias in UsernameAlias)) {\n        throw new Error(\"Invalid username Alias - \" + usernameAlias + \". Instead use \" + Object.values(UsernameAlias));\n    }\n};\nvar onAuthUIStateChange = function (authStateHandler) {\n    var authUIStateHandler = function (data) { return __awaiter(void 0, void 0, void 0, function () {\n        var payload, _a, user, e_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    payload = data.payload;\n                    _a = payload.event;\n                    switch (_a) {\n                        case AUTH_STATE_CHANGE_EVENT: return [3 /*break*/, 1];\n                    }\n                    return [3 /*break*/, 8];\n                case 1:\n                    if (!payload.message) return [3 /*break*/, 7];\n                    if (!(payload.message === AuthState.SignedIn)) return [3 /*break*/, 6];\n                    _b.label = 2;\n                case 2:\n                    _b.trys.push([2, 4, , 5]);\n                    return [4 /*yield*/, Auth.currentAuthenticatedUser()];\n                case 3:\n                    user = _b.sent();\n                    authStateHandler(payload.message, user);\n                    return [3 /*break*/, 5];\n                case 4:\n                    e_1 = _b.sent();\n                    logger.error('User is not authenticated');\n                    return [3 /*break*/, 5];\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    authStateHandler(payload.message, payload.data);\n                    _b.label = 7;\n                case 7: return [3 /*break*/, 8];\n                case 8: return [2 /*return*/];\n            }\n        });\n    }); };\n    Hub.listen(UI_AUTH_CHANNEL, authUIStateHandler);\n    return function () { return Hub.remove(UI_AUTH_CHANNEL, authUIStateHandler); };\n};\nvar isHintValid = function (field) {\n    return !(field['hint'] === null || typeof field['hint'] === 'string');\n};\n// Required attributes come from https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims\nvar requiredAttributesMap = {\n    address: {\n        label: I18n.get(Translations.ADDRESS_LABEL),\n        placeholder: I18n.get(Translations.ADDRESS_PLACEHOLDER),\n    },\n    nickname: {\n        label: I18n.get(Translations.NICKNAME_LABEL),\n        placeholder: I18n.get(Translations.NICKNAME_PLACEHOLDER),\n    },\n    birthdate: {\n        label: I18n.get(Translations.BIRTHDATE_LABEL),\n        placeholder: I18n.get(Translations.BIRTHDATE_PLACEHOLDER),\n    },\n    phone_number: {\n        label: I18n.get(Translations.PHONE_LABEL),\n        placeholder: I18n.get(Translations.PHONE_PLACEHOLDER),\n    },\n    email: {\n        lable: I18n.get(Translations.EMAIL_LABEL),\n        placeholder: I18n.get(Translations.EMAIL_PLACEHOLDER),\n    },\n    picture: {\n        label: I18n.get(Translations.PICTURE_LABEL),\n        placeholder: I18n.get(Translations.PICTURE_PLACEHOLDER),\n    },\n    family_name: {\n        label: I18n.get(Translations.FAMILY_NAME_LABEL),\n        placeholder: I18n.get(Translations.FAMILY_NAME_PLACEHOLDER),\n    },\n    preferred_username: {\n        label: I18n.get(Translations.PREFERRED_USERNAME_LABEL),\n        placeholder: I18n.get(Translations.PREFERRED_USERNAME_PLACEHOLDER),\n    },\n    gender: {\n        label: I18n.get(Translations.GENDER_LABEL),\n        placeholder: I18n.get(Translations.GENDER_PLACEHOLDER),\n    },\n    profile: {\n        label: I18n.get(Translations.PROFILE_LABEL),\n        placeholder: I18n.get(Translations.PROFILE_PLACEHOLDER),\n    },\n    given_name: {\n        label: I18n.get(Translations.GIVEN_NAME_LABEL),\n        placeholder: I18n.get(Translations.GIVEN_NAME_LABEL),\n    },\n    zoneinfo: {\n        label: I18n.get(Translations.ZONEINFO_LABEL),\n        placeholder: I18n.get(Translations.ZONEINFO_PLACEHOLDER),\n    },\n    locale: {\n        label: I18n.get(Translations.LOCALE_LABEL),\n        placeholder: I18n.get(Translations.LOCALE_PLACEHOLDER),\n    },\n    updated_at: {\n        label: I18n.get(Translations.UPDATED_AT_LABEL),\n        placeholder: I18n.get(Translations.UPDATED_AT_PLACEHOLDER),\n    },\n    middle_name: {\n        label: I18n.get(Translations.MIDDLE_NAME_LABEL),\n        placeholder: I18n.get(Translations.MIDDLE_NAME_PLACEHOLDER),\n    },\n    website: {\n        label: I18n.get(Translations.WEBSITE_LABEL),\n        placeholder: I18n.get(Translations.WEBSITE_PLACEHOLDER),\n    },\n    name: {\n        label: I18n.get(Translations.NAME_LABEL),\n        placeholder: I18n.get(Translations.NAME_PLACEHOLDER),\n    },\n};\nexport { dispatchToastHubEvent as a, composePhoneNumberInput as b, checkUsernameAlias as c, dispatchAuthStateChangeEvent as d, hasShadowDom as h, isHintValid as i, onAuthUIStateChange as o, requiredAttributesMap as r };\n","// Dictionaries\n// fieldId constants\nvar USERNAME_SUFFIX = 'username';\nvar EMAIL_SUFFIX = 'email';\nvar CODE_SUFFIX = 'code';\nvar PHONE_SUFFIX = 'phone';\nvar PASSWORD_SUFFIX = 'password';\n// Country Dial Code common constants\nvar COUNTRY_DIAL_CODE_SUFFIX = 'country-dial-code-select';\nvar COUNTRY_DIAL_CODE_DEFAULT = '+1';\n// Auth Keys\nvar AUTH_SOURCE_KEY = 'amplify-auth-source';\nvar REDIRECTED_FROM_HOSTED_UI = 'amplify-redirected-from-hosted-ui';\nvar AUTHENTICATOR_AUTHSTATE = 'amplify-authenticator-authState';\n// Error message Common Constants\nvar PHONE_EMPTY_ERROR_MESSAGE = 'Phone number can not be empty';\nvar NO_AUTH_MODULE_FOUND = 'No Auth module found, please ensure @aws-amplify/auth is imported';\n// TOTP Messages\nvar SETUP_TOTP = 'SETUP_TOTP';\n// Select MFA Types Messages\nvar USER_NOT_SETUP_SOFTWARE_TOKEN_MFA = 'User has not set up software token mfa';\nvar USER_NOT_VERIFIED_SOFTWARE_TOKEN_MFA = 'User has not verified software token mfa';\n// Common events\nvar SUCCESS = 'SUCCESS';\n// Hub Events and Channels\nvar AUTH_CHANNEL = 'auth';\nvar UI_AUTH_CHANNEL = 'UI Auth';\nvar TOAST_AUTH_ERROR_EVENT = 'ToastAuthError';\nvar AUTH_STATE_CHANGE_EVENT = 'AuthStateChange';\nexport { AUTH_CHANNEL as A, COUNTRY_DIAL_CODE_DEFAULT as C, EMAIL_SUFFIX as E, NO_AUTH_MODULE_FOUND as N, PHONE_EMPTY_ERROR_MESSAGE as P, REDIRECTED_FROM_HOSTED_UI as R, SETUP_TOTP as S, TOAST_AUTH_ERROR_EVENT as T, UI_AUTH_CHANNEL as U, AUTH_STATE_CHANGE_EVENT as a, AUTHENTICATOR_AUTHSTATE as b, USER_NOT_SETUP_SOFTWARE_TOKEN_MFA as c, USER_NOT_VERIFIED_SOFTWARE_TOKEN_MFA as d, COUNTRY_DIAL_CODE_SUFFIX as e, PHONE_SUFFIX as f, SUCCESS as g, AUTH_SOURCE_KEY as h, CODE_SUFFIX as i, PASSWORD_SUFFIX as j, USERNAME_SUFFIX as k };\n","// TODO: Move these values to or extract them from the Cognito Provider in the Auth category for Auth V2\nvar AuthState;\n(function (AuthState) {\n    AuthState[\"SignUp\"] = \"signup\";\n    AuthState[\"SignOut\"] = \"signout\";\n    AuthState[\"SignIn\"] = \"signin\";\n    AuthState[\"Loading\"] = \"loading\";\n    AuthState[\"SignedOut\"] = \"signedout\";\n    AuthState[\"SignedIn\"] = \"signedin\";\n    AuthState[\"SigningUp\"] = \"signingup\";\n    AuthState[\"ConfirmSignUp\"] = \"confirmSignUp\";\n    AuthState[\"confirmingSignUpCustomFlow\"] = \"confirmsignupcustomflow\";\n    AuthState[\"ConfirmSignIn\"] = \"confirmSignIn\";\n    AuthState[\"confirmingSignInCustomFlow\"] = \"confirmingsignincustomflow\";\n    AuthState[\"VerifyingAttributes\"] = \"verifyingattributes\";\n    AuthState[\"ForgotPassword\"] = \"forgotpassword\";\n    AuthState[\"ResetPassword\"] = \"resettingpassword\";\n    AuthState[\"SettingMFA\"] = \"settingMFA\";\n    AuthState[\"TOTPSetup\"] = \"TOTPSetup\";\n    AuthState[\"CustomConfirmSignIn\"] = \"customConfirmSignIn\";\n    AuthState[\"VerifyContact\"] = \"verifyContact\";\n})(AuthState || (AuthState = {}));\nvar MfaOption;\n(function (MfaOption) {\n    MfaOption[\"TOTP\"] = \"TOTP\";\n    MfaOption[\"SMS\"] = \"SMS\";\n    MfaOption[\"NOMFA\"] = \"NOMFA\";\n})(MfaOption || (MfaOption = {}));\nvar ChallengeName;\n(function (ChallengeName) {\n    ChallengeName[\"SoftwareTokenMFA\"] = \"SOFTWARE_TOKEN_MFA\";\n    ChallengeName[\"SMSMFA\"] = \"SMS_MFA\";\n    ChallengeName[\"NewPasswordRequired\"] = \"NEW_PASSWORD_REQUIRED\";\n    ChallengeName[\"MFASetup\"] = \"MFA_SETUP\";\n    ChallengeName[\"CustomChallenge\"] = \"CUSTOM_CHALLENGE\";\n})(ChallengeName || (ChallengeName = {}));\nvar AuthFormField;\n(function (AuthFormField) {\n    AuthFormField[\"Password\"] = \"password\";\n})(AuthFormField || (AuthFormField = {}));\nvar UsernameAlias;\n(function (UsernameAlias) {\n    UsernameAlias[\"username\"] = \"username\";\n    UsernameAlias[\"email\"] = \"email\";\n    UsernameAlias[\"phone_number\"] = \"phone_number\";\n})(UsernameAlias || (UsernameAlias = {}));\nexport { AuthState as A, ChallengeName as C, MfaOption as M, UsernameAlias as U, AuthFormField as a };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as registerInstance, h } from './index-82dae9d1.js';\nimport { Logger, I18n, isEmpty } from '@aws-amplify/core';\nimport { A as AuthState, M as MfaOption } from './auth-types-78df304e.js';\nimport { T as Translations } from './Translations-baba3f2c.js';\nimport { N as NO_AUTH_MODULE_FOUND, S as SETUP_TOTP, g as SUCCESS } from './constants-3e1b5fcc.js';\nimport { Auth } from '@aws-amplify/auth';\nimport { d as dispatchAuthStateChangeEvent, a as dispatchToastHubEvent } from './helpers-9dae6f2a.js';\nimport buffer from 'buffer';\nvar amplifyRadioButtonCss = \":host{--font-family:var(--amplify-font-family)}.radio-button{display:block;width:100%;padding:16px;font-size:var(--amplify-text-sm);font-family:var(--font-family)}.radio-button input{margin-right:12px}\";\nvar AmplifyRadioButton = /** @class */ (function () {\n    function AmplifyRadioButton(hostRef) {\n        registerInstance(this, hostRef);\n        /** (Optional) The placeholder for the input element.  Using hints is recommended, but placeholders can also be useful to convey information to users. */\n        this.placeholder = '';\n        /** If `true`, the radio button is selected. */\n        this.checked = false;\n        /** If `true`, the checkbox is disabled */\n        this.disabled = false;\n    }\n    AmplifyRadioButton.prototype.render = function () {\n        return (h(\"span\", { class: \"radio-button\" }, h(\"input\", Object.assign({ type: \"radio\", name: this.name, value: this.value, onInput: this.handleInputChange, placeholder: this.placeholder, id: this.fieldId, checked: this.checked, disabled: this.disabled }, this.inputProps)), h(\"amplify-label\", { htmlFor: this.fieldId }, this.label)));\n    };\n    return AmplifyRadioButton;\n}());\nAmplifyRadioButton.style = amplifyRadioButtonCss;\n// can-promise has a crash in some versions of react native that dont have\n// standard global objects\n// https://github.com/soldair/node-qrcode/issues/157\nvar canPromise = function () {\n    return typeof Promise === 'function' && Promise.prototype && Promise.prototype.then;\n};\nvar toString = {}.toString;\nvar isarray = Array.isArray || function (arr) {\n    return toString.call(arr) == '[object Array]';\n};\nfunction typedArraySupport() {\n    // Can typed array instances be augmented?\n    try {\n        var arr = new Uint8Array(1);\n        arr.__proto__ = { __proto__: Uint8Array.prototype, foo: function () { return 42; } };\n        return arr.foo() === 42;\n    }\n    catch (e) {\n        return false;\n    }\n}\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport();\nvar K_MAX_LENGTH = Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff;\nfunction Buffer(arg, offset, length) {\n    if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n        return new Buffer(arg, offset, length);\n    }\n    if (typeof arg === 'number') {\n        return allocUnsafe(this, arg);\n    }\n    return from(this, arg, offset, length);\n}\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n    Buffer.prototype.__proto__ = Uint8Array.prototype;\n    Buffer.__proto__ = Uint8Array;\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    if (typeof Symbol !== 'undefined' && Symbol.species &&\n        Buffer[Symbol.species] === Buffer) {\n        Object.defineProperty(Buffer, Symbol.species, {\n            value: null,\n            configurable: true,\n            enumerable: false,\n            writable: false\n        });\n    }\n}\nfunction checked(length) {\n    // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n    // length is NaN (which is otherwise coerced to zero.)\n    if (length >= K_MAX_LENGTH) {\n        throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n            'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes');\n    }\n    return length | 0;\n}\nfunction isnan(val) {\n    return val !== val; // eslint-disable-line no-self-compare\n}\nfunction createBuffer(that, length) {\n    var buf;\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        buf = new Uint8Array(length);\n        buf.__proto__ = Buffer.prototype;\n    }\n    else {\n        // Fallback: Return an object instance of the Buffer class\n        buf = that;\n        if (buf === null) {\n            buf = new Buffer(length);\n        }\n        buf.length = length;\n    }\n    return buf;\n}\nfunction allocUnsafe(that, size) {\n    var buf = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n    if (!Buffer.TYPED_ARRAY_SUPPORT) {\n        for (var i = 0; i < size; ++i) {\n            buf[i] = 0;\n        }\n    }\n    return buf;\n}\nfunction fromString(that, string) {\n    var length = byteLength(string) | 0;\n    var buf = createBuffer(that, length);\n    var actual = buf.write(string);\n    if (actual !== length) {\n        // Writing a hex string, for example, that contains invalid characters will\n        // cause everything after the first invalid character to be ignored. (e.g.\n        // 'abxxcd' will be treated as 'ab')\n        buf = buf.slice(0, actual);\n    }\n    return buf;\n}\nfunction fromArrayLike(that, array) {\n    var length = array.length < 0 ? 0 : checked(array.length) | 0;\n    var buf = createBuffer(that, length);\n    for (var i = 0; i < length; i += 1) {\n        buf[i] = array[i] & 255;\n    }\n    return buf;\n}\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n    if (byteOffset < 0 || array.byteLength < byteOffset) {\n        throw new RangeError('\\'offset\\' is out of bounds');\n    }\n    if (array.byteLength < byteOffset + (length || 0)) {\n        throw new RangeError('\\'length\\' is out of bounds');\n    }\n    var buf;\n    if (byteOffset === undefined && length === undefined) {\n        buf = new Uint8Array(array);\n    }\n    else if (length === undefined) {\n        buf = new Uint8Array(array, byteOffset);\n    }\n    else {\n        buf = new Uint8Array(array, byteOffset, length);\n    }\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        // Return an augmented `Uint8Array` instance, for best performance\n        buf.__proto__ = Buffer.prototype;\n    }\n    else {\n        // Fallback: Return an object instance of the Buffer class\n        buf = fromArrayLike(that, buf);\n    }\n    return buf;\n}\nfunction fromObject(that, obj) {\n    if (Buffer.isBuffer(obj)) {\n        var len = checked(obj.length) | 0;\n        var buf = createBuffer(that, len);\n        if (buf.length === 0) {\n            return buf;\n        }\n        obj.copy(buf, 0, 0, len);\n        return buf;\n    }\n    if (obj) {\n        if ((typeof ArrayBuffer !== 'undefined' &&\n            obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n            if (typeof obj.length !== 'number' || isnan(obj.length)) {\n                return createBuffer(that, 0);\n            }\n            return fromArrayLike(that, obj);\n        }\n        if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n            return fromArrayLike(that, obj.data);\n        }\n    }\n    throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n}\nfunction utf8ToBytes(string, units) {\n    units = units || Infinity;\n    var codePoint;\n    var length = string.length;\n    var leadSurrogate = null;\n    var bytes = [];\n    for (var i = 0; i < length; ++i) {\n        codePoint = string.charCodeAt(i);\n        // is surrogate component\n        if (codePoint > 0xD7FF && codePoint < 0xE000) {\n            // last char was a lead\n            if (!leadSurrogate) {\n                // no lead yet\n                if (codePoint > 0xDBFF) {\n                    // unexpected trail\n                    if ((units -= 3) > -1)\n                        bytes.push(0xEF, 0xBF, 0xBD);\n                    continue;\n                }\n                else if (i + 1 === length) {\n                    // unpaired lead\n                    if ((units -= 3) > -1)\n                        bytes.push(0xEF, 0xBF, 0xBD);\n                    continue;\n                }\n                // valid lead\n                leadSurrogate = codePoint;\n                continue;\n            }\n            // 2 leads in a row\n            if (codePoint < 0xDC00) {\n                if ((units -= 3) > -1)\n                    bytes.push(0xEF, 0xBF, 0xBD);\n                leadSurrogate = codePoint;\n                continue;\n            }\n            // valid surrogate pair\n            codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n        }\n        else if (leadSurrogate) {\n            // valid bmp char, but last char was a lead\n            if ((units -= 3) > -1)\n                bytes.push(0xEF, 0xBF, 0xBD);\n        }\n        leadSurrogate = null;\n        // encode utf8\n        if (codePoint < 0x80) {\n            if ((units -= 1) < 0)\n                break;\n            bytes.push(codePoint);\n        }\n        else if (codePoint < 0x800) {\n            if ((units -= 2) < 0)\n                break;\n            bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n        }\n        else if (codePoint < 0x10000) {\n            if ((units -= 3) < 0)\n                break;\n            bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n        }\n        else if (codePoint < 0x110000) {\n            if ((units -= 4) < 0)\n                break;\n            bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n        }\n        else {\n            throw new Error('Invalid code point');\n        }\n    }\n    return bytes;\n}\nfunction byteLength(string) {\n    if (Buffer.isBuffer(string)) {\n        return string.length;\n    }\n    if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n        (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n        return string.byteLength;\n    }\n    if (typeof string !== 'string') {\n        string = '' + string;\n    }\n    var len = string.length;\n    if (len === 0)\n        return 0;\n    return utf8ToBytes(string).length;\n}\nfunction blitBuffer(src, dst, offset, length) {\n    for (var i = 0; i < length; ++i) {\n        if ((i + offset >= dst.length) || (i >= src.length))\n            break;\n        dst[i + offset] = src[i];\n    }\n    return i;\n}\nfunction utf8Write(buf, string, offset, length) {\n    return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\nfunction from(that, value, offset, length) {\n    if (typeof value === 'number') {\n        throw new TypeError('\"value\" argument must not be a number');\n    }\n    if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n        return fromArrayBuffer(that, value, offset, length);\n    }\n    if (typeof value === 'string') {\n        return fromString(that, value);\n    }\n    return fromObject(that, value);\n}\nBuffer.prototype.write = function write(string, offset, length) {\n    // Buffer#write(string)\n    if (offset === undefined) {\n        length = this.length;\n        offset = 0;\n        // Buffer#write(string, encoding)\n    }\n    else if (length === undefined && typeof offset === 'string') {\n        length = this.length;\n        offset = 0;\n        // Buffer#write(string, offset[, length])\n    }\n    else if (isFinite(offset)) {\n        offset = offset | 0;\n        if (isFinite(length)) {\n            length = length | 0;\n        }\n        else {\n            length = undefined;\n        }\n    }\n    var remaining = this.length - offset;\n    if (length === undefined || length > remaining)\n        length = remaining;\n    if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n        throw new RangeError('Attempt to write outside buffer bounds');\n    }\n    return utf8Write(this, string, offset, length);\n};\nBuffer.prototype.slice = function slice(start, end) {\n    var len = this.length;\n    start = ~~start;\n    end = end === undefined ? len : ~~end;\n    if (start < 0) {\n        start += len;\n        if (start < 0)\n            start = 0;\n    }\n    else if (start > len) {\n        start = len;\n    }\n    if (end < 0) {\n        end += len;\n        if (end < 0)\n            end = 0;\n    }\n    else if (end > len) {\n        end = len;\n    }\n    if (end < start)\n        end = start;\n    var newBuf;\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        newBuf = this.subarray(start, end);\n        // Return an augmented `Uint8Array` instance\n        newBuf.__proto__ = Buffer.prototype;\n    }\n    else {\n        var sliceLen = end - start;\n        newBuf = new Buffer(sliceLen, undefined);\n        for (var i = 0; i < sliceLen; ++i) {\n            newBuf[i] = this[i + start];\n        }\n    }\n    return newBuf;\n};\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n    if (!start)\n        start = 0;\n    if (!end && end !== 0)\n        end = this.length;\n    if (targetStart >= target.length)\n        targetStart = target.length;\n    if (!targetStart)\n        targetStart = 0;\n    if (end > 0 && end < start)\n        end = start;\n    // Copy 0 bytes; we're done\n    if (end === start)\n        return 0;\n    if (target.length === 0 || this.length === 0)\n        return 0;\n    // Fatal error conditions\n    if (targetStart < 0) {\n        throw new RangeError('targetStart out of bounds');\n    }\n    if (start < 0 || start >= this.length)\n        throw new RangeError('sourceStart out of bounds');\n    if (end < 0)\n        throw new RangeError('sourceEnd out of bounds');\n    // Are we oob?\n    if (end > this.length)\n        end = this.length;\n    if (target.length - targetStart < end - start) {\n        end = target.length - targetStart + start;\n    }\n    var len = end - start;\n    var i;\n    if (this === target && start < targetStart && targetStart < end) {\n        // descending copy from end\n        for (i = len - 1; i >= 0; --i) {\n            target[i + targetStart] = this[i + start];\n        }\n    }\n    else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n        // ascending copy from start\n        for (i = 0; i < len; ++i) {\n            target[i + targetStart] = this[i + start];\n        }\n    }\n    else {\n        Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n    }\n    return len;\n};\nBuffer.prototype.fill = function fill(val, start, end) {\n    // Handle string cases:\n    if (typeof val === 'string') {\n        if (typeof start === 'string') {\n            start = 0;\n            end = this.length;\n        }\n        else if (typeof end === 'string') {\n            end = this.length;\n        }\n        if (val.length === 1) {\n            var code = val.charCodeAt(0);\n            if (code < 256) {\n                val = code;\n            }\n        }\n    }\n    else if (typeof val === 'number') {\n        val = val & 255;\n    }\n    // Invalid ranges are not set to a default, so can range check early.\n    if (start < 0 || this.length < start || this.length < end) {\n        throw new RangeError('Out of range index');\n    }\n    if (end <= start) {\n        return this;\n    }\n    start = start >>> 0;\n    end = end === undefined ? this.length : end >>> 0;\n    if (!val)\n        val = 0;\n    var i;\n    if (typeof val === 'number') {\n        for (i = start; i < end; ++i) {\n            this[i] = val;\n        }\n    }\n    else {\n        var bytes = Buffer.isBuffer(val)\n            ? val\n            : new Buffer(val);\n        var len = bytes.length;\n        for (i = 0; i < end - start; ++i) {\n            this[i + start] = bytes[i % len];\n        }\n    }\n    return this;\n};\nBuffer.concat = function concat(list, length) {\n    if (!isarray(list)) {\n        throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n    if (list.length === 0) {\n        return createBuffer(null, 0);\n    }\n    var i;\n    if (length === undefined) {\n        length = 0;\n        for (i = 0; i < list.length; ++i) {\n            length += list[i].length;\n        }\n    }\n    var buffer = allocUnsafe(null, length);\n    var pos = 0;\n    for (i = 0; i < list.length; ++i) {\n        var buf = list[i];\n        if (!Buffer.isBuffer(buf)) {\n            throw new TypeError('\"list\" argument must be an Array of Buffers');\n        }\n        buf.copy(buffer, pos);\n        pos += buf.length;\n    }\n    return buffer;\n};\nBuffer.byteLength = byteLength;\nBuffer.prototype._isBuffer = true;\nBuffer.isBuffer = function isBuffer(b) {\n    return !!(b != null && b._isBuffer);\n};\nvar alloc = function (size) {\n    var buffer = new Buffer(size);\n    buffer.fill(0);\n    return buffer;\n};\nvar from_1 = function (data) {\n    return new Buffer(data);\n};\nvar typedarrayBuffer = {\n    alloc: alloc,\n    from: from_1\n};\nvar toSJISFunction;\nvar CODEWORDS_COUNT = [\n    0,\n    26, 44, 70, 100, 134, 172, 196, 242, 292, 346,\n    404, 466, 532, 581, 655, 733, 815, 901, 991, 1085,\n    1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185,\n    2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706\n];\n/**\n * Returns the QR Code size for the specified version\n *\n * @param  {Number} version QR Code version\n * @return {Number}         size of QR code\n */\nvar getSymbolSize = function getSymbolSize(version) {\n    if (!version)\n        throw new Error('\"version\" cannot be null or undefined');\n    if (version < 1 || version > 40)\n        throw new Error('\"version\" should be in range from 1 to 40');\n    return version * 4 + 17;\n};\n/**\n * Returns the total number of codewords used to store data and EC information.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Data length in bits\n */\nvar getSymbolTotalCodewords = function getSymbolTotalCodewords(version) {\n    return CODEWORDS_COUNT[version];\n};\n/**\n * Encode data with Bose-Chaudhuri-Hocquenghem\n *\n * @param  {Number} data Value to encode\n * @return {Number}      Encoded value\n */\nvar getBCHDigit = function (data) {\n    var digit = 0;\n    while (data !== 0) {\n        digit++;\n        data >>>= 1;\n    }\n    return digit;\n};\nvar setToSJISFunction = function setToSJISFunction(f) {\n    if (typeof f !== 'function') {\n        throw new Error('\"toSJISFunc\" is not a valid function.');\n    }\n    toSJISFunction = f;\n};\nvar isKanjiModeEnabled = function () {\n    return typeof toSJISFunction !== 'undefined';\n};\nvar toSJIS = function toSJIS(kanji) {\n    return toSJISFunction(kanji);\n};\nvar utils = {\n    getSymbolSize: getSymbolSize,\n    getSymbolTotalCodewords: getSymbolTotalCodewords,\n    getBCHDigit: getBCHDigit,\n    setToSJISFunction: setToSJISFunction,\n    isKanjiModeEnabled: isKanjiModeEnabled,\n    toSJIS: toSJIS\n};\nfunction createCommonjsModule(fn, basedir, module) {\n    return module = {\n        path: basedir,\n        exports: {},\n        require: function (path, base) {\n            return commonjsRequire();\n        }\n    }, fn(module, module.exports), module.exports;\n}\nfunction commonjsRequire() {\n    throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\nvar errorCorrectionLevel = createCommonjsModule(function (module, exports) {\n    exports.L = { bit: 1 };\n    exports.M = { bit: 0 };\n    exports.Q = { bit: 3 };\n    exports.H = { bit: 2 };\n    function fromString(string) {\n        if (typeof string !== 'string') {\n            throw new Error('Param is not a string');\n        }\n        var lcStr = string.toLowerCase();\n        switch (lcStr) {\n            case 'l':\n            case 'low':\n                return exports.L;\n            case 'm':\n            case 'medium':\n                return exports.M;\n            case 'q':\n            case 'quartile':\n                return exports.Q;\n            case 'h':\n            case 'high':\n                return exports.H;\n            default:\n                throw new Error('Unknown EC Level: ' + string);\n        }\n    }\n    exports.isValid = function isValid(level) {\n        return level && typeof level.bit !== 'undefined' &&\n            level.bit >= 0 && level.bit < 4;\n    };\n    exports.from = function from(value, defaultValue) {\n        if (exports.isValid(value)) {\n            return value;\n        }\n        try {\n            return fromString(value);\n        }\n        catch (e) {\n            return defaultValue;\n        }\n    };\n});\nfunction BitBuffer() {\n    this.buffer = [];\n    this.length = 0;\n}\nBitBuffer.prototype = {\n    get: function (index) {\n        var bufIndex = Math.floor(index / 8);\n        return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1) === 1;\n    },\n    put: function (num, length) {\n        for (var i = 0; i < length; i++) {\n            this.putBit(((num >>> (length - i - 1)) & 1) === 1);\n        }\n    },\n    getLengthInBits: function () {\n        return this.length;\n    },\n    putBit: function (bit) {\n        var bufIndex = Math.floor(this.length / 8);\n        if (this.buffer.length <= bufIndex) {\n            this.buffer.push(0);\n        }\n        if (bit) {\n            this.buffer[bufIndex] |= (0x80 >>> (this.length % 8));\n        }\n        this.length++;\n    }\n};\nvar bitBuffer = BitBuffer;\n/**\n * Helper class to handle QR Code symbol modules\n *\n * @param {Number} size Symbol size\n */\nfunction BitMatrix(size) {\n    if (!size || size < 1) {\n        throw new Error('BitMatrix size must be defined and greater than 0');\n    }\n    this.size = size;\n    this.data = typedarrayBuffer.alloc(size * size);\n    this.reservedBit = typedarrayBuffer.alloc(size * size);\n}\n/**\n * Set bit value at specified location\n * If reserved flag is set, this bit will be ignored during masking process\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n * @param {Boolean} reserved\n */\nBitMatrix.prototype.set = function (row, col, value, reserved) {\n    var index = row * this.size + col;\n    this.data[index] = value;\n    if (reserved)\n        this.reservedBit[index] = true;\n};\n/**\n * Returns bit value at specified location\n *\n * @param  {Number}  row\n * @param  {Number}  col\n * @return {Boolean}\n */\nBitMatrix.prototype.get = function (row, col) {\n    return this.data[row * this.size + col];\n};\n/**\n * Applies xor operator at specified location\n * (used during masking process)\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n */\nBitMatrix.prototype.xor = function (row, col, value) {\n    this.data[row * this.size + col] ^= value;\n};\n/**\n * Check if bit at specified location is reserved\n *\n * @param {Number}   row\n * @param {Number}   col\n * @return {Boolean}\n */\nBitMatrix.prototype.isReserved = function (row, col) {\n    return this.reservedBit[row * this.size + col];\n};\nvar bitMatrix = BitMatrix;\nvar alignmentPattern = createCommonjsModule(function (module, exports) {\n    /**\n     * Alignment pattern are fixed reference pattern in defined positions\n     * in a matrix symbology, which enables the decode software to re-synchronise\n     * the coordinate mapping of the image modules in the event of moderate amounts\n     * of distortion of the image.\n     *\n     * Alignment patterns are present only in QR Code symbols of version 2 or larger\n     * and their number depends on the symbol version.\n     */\n    var getSymbolSize = utils.getSymbolSize;\n    /**\n     * Calculate the row/column coordinates of the center module of each alignment pattern\n     * for the specified QR Code version.\n     *\n     * The alignment patterns are positioned symmetrically on either side of the diagonal\n     * running from the top left corner of the symbol to the bottom right corner.\n     *\n     * Since positions are simmetrical only half of the coordinates are returned.\n     * Each item of the array will represent in turn the x and y coordinate.\n     * @see {@link getPositions}\n     *\n     * @param  {Number} version QR Code version\n     * @return {Array}          Array of coordinate\n     */\n    exports.getRowColCoords = function getRowColCoords(version) {\n        if (version === 1)\n            return [];\n        var posCount = Math.floor(version / 7) + 2;\n        var size = getSymbolSize(version);\n        var intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2;\n        var positions = [size - 7]; // Last coord is always (size - 7)\n        for (var i = 1; i < posCount - 1; i++) {\n            positions[i] = positions[i - 1] - intervals;\n        }\n        positions.push(6); // First coord is always 6\n        return positions.reverse();\n    };\n    /**\n     * Returns an array containing the positions of each alignment pattern.\n     * Each array's element represent the center point of the pattern as (x, y) coordinates\n     *\n     * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}\n     * and filtering out the items that overlaps with finder pattern\n     *\n     * @example\n     * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.\n     * The alignment patterns, therefore, are to be centered on (row, column)\n     * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).\n     * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns\n     * and are not therefore used for alignment patterns.\n     *\n     * var pos = getPositions(7)\n     * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]\n     *\n     * @param  {Number} version QR Code version\n     * @return {Array}          Array of coordinates\n     */\n    exports.getPositions = function getPositions(version) {\n        var coords = [];\n        var pos = exports.getRowColCoords(version);\n        var posLength = pos.length;\n        for (var i = 0; i < posLength; i++) {\n            for (var j = 0; j < posLength; j++) {\n                // Skip if position is occupied by finder patterns\n                if ((i === 0 && j === 0) || // top-left\n                    (i === 0 && j === posLength - 1) || // bottom-left\n                    (i === posLength - 1 && j === 0)) { // top-right\n                    continue;\n                }\n                coords.push([pos[i], pos[j]]);\n            }\n        }\n        return coords;\n    };\n});\nvar getSymbolSize$1 = utils.getSymbolSize;\nvar FINDER_PATTERN_SIZE = 7;\n/**\n * Returns an array containing the positions of each finder pattern.\n * Each array's element represent the top-left point of the pattern as (x, y) coordinates\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nvar getPositions = function getPositions(version) {\n    var size = getSymbolSize$1(version);\n    return [\n        // top-left\n        [0, 0],\n        // top-right\n        [size - FINDER_PATTERN_SIZE, 0],\n        // bottom-left\n        [0, size - FINDER_PATTERN_SIZE]\n    ];\n};\nvar finderPattern = {\n    getPositions: getPositions\n};\nvar maskPattern = createCommonjsModule(function (module, exports) {\n    /**\n     * Data mask pattern reference\n     * @type {Object}\n     */\n    exports.Patterns = {\n        PATTERN000: 0,\n        PATTERN001: 1,\n        PATTERN010: 2,\n        PATTERN011: 3,\n        PATTERN100: 4,\n        PATTERN101: 5,\n        PATTERN110: 6,\n        PATTERN111: 7\n    };\n    /**\n     * Weighted penalty scores for the undesirable features\n     * @type {Object}\n     */\n    var PenaltyScores = {\n        N1: 3,\n        N2: 3,\n        N3: 40,\n        N4: 10\n    };\n    /**\n     * Check if mask pattern value is valid\n     *\n     * @param  {Number}  mask    Mask pattern\n     * @return {Boolean}         true if valid, false otherwise\n     */\n    exports.isValid = function isValid(mask) {\n        return mask != null && mask !== '' && !isNaN(mask) && mask >= 0 && mask <= 7;\n    };\n    /**\n     * Returns mask pattern from a value.\n     * If value is not valid, returns undefined\n     *\n     * @param  {Number|String} value        Mask pattern value\n     * @return {Number}                     Valid mask pattern or undefined\n     */\n    exports.from = function from(value) {\n        return exports.isValid(value) ? parseInt(value, 10) : undefined;\n    };\n    /**\n    * Find adjacent modules in row/column with the same color\n    * and assign a penalty value.\n    *\n    * Points: N1 + i\n    * i is the amount by which the number of adjacent modules of the same color exceeds 5\n    */\n    exports.getPenaltyN1 = function getPenaltyN1(data) {\n        var size = data.size;\n        var points = 0;\n        var sameCountCol = 0;\n        var sameCountRow = 0;\n        var lastCol = null;\n        var lastRow = null;\n        for (var row = 0; row < size; row++) {\n            sameCountCol = sameCountRow = 0;\n            lastCol = lastRow = null;\n            for (var col = 0; col < size; col++) {\n                var module = data.get(row, col);\n                if (module === lastCol) {\n                    sameCountCol++;\n                }\n                else {\n                    if (sameCountCol >= 5)\n                        points += PenaltyScores.N1 + (sameCountCol - 5);\n                    lastCol = module;\n                    sameCountCol = 1;\n                }\n                module = data.get(col, row);\n                if (module === lastRow) {\n                    sameCountRow++;\n                }\n                else {\n                    if (sameCountRow >= 5)\n                        points += PenaltyScores.N1 + (sameCountRow - 5);\n                    lastRow = module;\n                    sameCountRow = 1;\n                }\n            }\n            if (sameCountCol >= 5)\n                points += PenaltyScores.N1 + (sameCountCol - 5);\n            if (sameCountRow >= 5)\n                points += PenaltyScores.N1 + (sameCountRow - 5);\n        }\n        return points;\n    };\n    /**\n     * Find 2x2 blocks with the same color and assign a penalty value\n     *\n     * Points: N2 * (m - 1) * (n - 1)\n     */\n    exports.getPenaltyN2 = function getPenaltyN2(data) {\n        var size = data.size;\n        var points = 0;\n        for (var row = 0; row < size - 1; row++) {\n            for (var col = 0; col < size - 1; col++) {\n                var last = data.get(row, col) +\n                    data.get(row, col + 1) +\n                    data.get(row + 1, col) +\n                    data.get(row + 1, col + 1);\n                if (last === 4 || last === 0)\n                    points++;\n            }\n        }\n        return points * PenaltyScores.N2;\n    };\n    /**\n     * Find 1:1:3:1:1 ratio (dark:light:dark:light:dark) pattern in row/column,\n     * preceded or followed by light area 4 modules wide\n     *\n     * Points: N3 * number of pattern found\n     */\n    exports.getPenaltyN3 = function getPenaltyN3(data) {\n        var size = data.size;\n        var points = 0;\n        var bitsCol = 0;\n        var bitsRow = 0;\n        for (var row = 0; row < size; row++) {\n            bitsCol = bitsRow = 0;\n            for (var col = 0; col < size; col++) {\n                bitsCol = ((bitsCol << 1) & 0x7FF) | data.get(row, col);\n                if (col >= 10 && (bitsCol === 0x5D0 || bitsCol === 0x05D))\n                    points++;\n                bitsRow = ((bitsRow << 1) & 0x7FF) | data.get(col, row);\n                if (col >= 10 && (bitsRow === 0x5D0 || bitsRow === 0x05D))\n                    points++;\n            }\n        }\n        return points * PenaltyScores.N3;\n    };\n    /**\n     * Calculate proportion of dark modules in entire symbol\n     *\n     * Points: N4 * k\n     *\n     * k is the rating of the deviation of the proportion of dark modules\n     * in the symbol from 50% in steps of 5%\n     */\n    exports.getPenaltyN4 = function getPenaltyN4(data) {\n        var darkCount = 0;\n        var modulesCount = data.data.length;\n        for (var i = 0; i < modulesCount; i++)\n            darkCount += data.data[i];\n        var k = Math.abs(Math.ceil((darkCount * 100 / modulesCount) / 5) - 10);\n        return k * PenaltyScores.N4;\n    };\n    /**\n     * Return mask value at given position\n     *\n     * @param  {Number} maskPattern Pattern reference value\n     * @param  {Number} i           Row\n     * @param  {Number} j           Column\n     * @return {Boolean}            Mask value\n     */\n    function getMaskAt(maskPattern, i, j) {\n        switch (maskPattern) {\n            case exports.Patterns.PATTERN000: return (i + j) % 2 === 0;\n            case exports.Patterns.PATTERN001: return i % 2 === 0;\n            case exports.Patterns.PATTERN010: return j % 3 === 0;\n            case exports.Patterns.PATTERN011: return (i + j) % 3 === 0;\n            case exports.Patterns.PATTERN100: return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 === 0;\n            case exports.Patterns.PATTERN101: return (i * j) % 2 + (i * j) % 3 === 0;\n            case exports.Patterns.PATTERN110: return ((i * j) % 2 + (i * j) % 3) % 2 === 0;\n            case exports.Patterns.PATTERN111: return ((i * j) % 3 + (i + j) % 2) % 2 === 0;\n            default: throw new Error('bad maskPattern:' + maskPattern);\n        }\n    }\n    /**\n     * Apply a mask pattern to a BitMatrix\n     *\n     * @param  {Number}    pattern Pattern reference number\n     * @param  {BitMatrix} data    BitMatrix data\n     */\n    exports.applyMask = function applyMask(pattern, data) {\n        var size = data.size;\n        for (var col = 0; col < size; col++) {\n            for (var row = 0; row < size; row++) {\n                if (data.isReserved(row, col))\n                    continue;\n                data.xor(row, col, getMaskAt(pattern, row, col));\n            }\n        }\n    };\n    /**\n     * Returns the best mask pattern for data\n     *\n     * @param  {BitMatrix} data\n     * @return {Number} Mask pattern reference number\n     */\n    exports.getBestMask = function getBestMask(data, setupFormatFunc) {\n        var numPatterns = Object.keys(exports.Patterns).length;\n        var bestPattern = 0;\n        var lowerPenalty = Infinity;\n        for (var p = 0; p < numPatterns; p++) {\n            setupFormatFunc(p);\n            exports.applyMask(p, data);\n            // Calculate penalty\n            var penalty = exports.getPenaltyN1(data) +\n                exports.getPenaltyN2(data) +\n                exports.getPenaltyN3(data) +\n                exports.getPenaltyN4(data);\n            // Undo previously applied mask\n            exports.applyMask(p, data);\n            if (penalty < lowerPenalty) {\n                lowerPenalty = penalty;\n                bestPattern = p;\n            }\n        }\n        return bestPattern;\n    };\n});\nvar EC_BLOCKS_TABLE = [\n    // L  M  Q  H\n    1, 1, 1, 1,\n    1, 1, 1, 1,\n    1, 1, 2, 2,\n    1, 2, 2, 4,\n    1, 2, 4, 4,\n    2, 4, 4, 4,\n    2, 4, 6, 5,\n    2, 4, 6, 6,\n    2, 5, 8, 8,\n    4, 5, 8, 8,\n    4, 5, 8, 11,\n    4, 8, 10, 11,\n    4, 9, 12, 16,\n    4, 9, 16, 16,\n    6, 10, 12, 18,\n    6, 10, 17, 16,\n    6, 11, 16, 19,\n    6, 13, 18, 21,\n    7, 14, 21, 25,\n    8, 16, 20, 25,\n    8, 17, 23, 25,\n    9, 17, 23, 34,\n    9, 18, 25, 30,\n    10, 20, 27, 32,\n    12, 21, 29, 35,\n    12, 23, 34, 37,\n    12, 25, 34, 40,\n    13, 26, 35, 42,\n    14, 28, 38, 45,\n    15, 29, 40, 48,\n    16, 31, 43, 51,\n    17, 33, 45, 54,\n    18, 35, 48, 57,\n    19, 37, 51, 60,\n    19, 38, 53, 63,\n    20, 40, 56, 66,\n    21, 43, 59, 70,\n    22, 45, 62, 74,\n    24, 47, 65, 77,\n    25, 49, 68, 81\n];\nvar EC_CODEWORDS_TABLE = [\n    // L  M  Q  H\n    7, 10, 13, 17,\n    10, 16, 22, 28,\n    15, 26, 36, 44,\n    20, 36, 52, 64,\n    26, 48, 72, 88,\n    36, 64, 96, 112,\n    40, 72, 108, 130,\n    48, 88, 132, 156,\n    60, 110, 160, 192,\n    72, 130, 192, 224,\n    80, 150, 224, 264,\n    96, 176, 260, 308,\n    104, 198, 288, 352,\n    120, 216, 320, 384,\n    132, 240, 360, 432,\n    144, 280, 408, 480,\n    168, 308, 448, 532,\n    180, 338, 504, 588,\n    196, 364, 546, 650,\n    224, 416, 600, 700,\n    224, 442, 644, 750,\n    252, 476, 690, 816,\n    270, 504, 750, 900,\n    300, 560, 810, 960,\n    312, 588, 870, 1050,\n    336, 644, 952, 1110,\n    360, 700, 1020, 1200,\n    390, 728, 1050, 1260,\n    420, 784, 1140, 1350,\n    450, 812, 1200, 1440,\n    480, 868, 1290, 1530,\n    510, 924, 1350, 1620,\n    540, 980, 1440, 1710,\n    570, 1036, 1530, 1800,\n    570, 1064, 1590, 1890,\n    600, 1120, 1680, 1980,\n    630, 1204, 1770, 2100,\n    660, 1260, 1860, 2220,\n    720, 1316, 1950, 2310,\n    750, 1372, 2040, 2430\n];\n/**\n * Returns the number of error correction block that the QR Code should contain\n * for the specified version and error correction level.\n *\n * @param  {Number} version              QR Code version\n * @param  {Number} errorCorrectionLevel Error correction level\n * @return {Number}                      Number of error correction blocks\n */\nvar getBlocksCount = function getBlocksCount(version, errorCorrectionLevel$1) {\n    switch (errorCorrectionLevel$1) {\n        case errorCorrectionLevel.L:\n            return EC_BLOCKS_TABLE[(version - 1) * 4 + 0];\n        case errorCorrectionLevel.M:\n            return EC_BLOCKS_TABLE[(version - 1) * 4 + 1];\n        case errorCorrectionLevel.Q:\n            return EC_BLOCKS_TABLE[(version - 1) * 4 + 2];\n        case errorCorrectionLevel.H:\n            return EC_BLOCKS_TABLE[(version - 1) * 4 + 3];\n        default:\n            return undefined;\n    }\n};\n/**\n * Returns the number of error correction codewords to use for the specified\n * version and error correction level.\n *\n * @param  {Number} version              QR Code version\n * @param  {Number} errorCorrectionLevel Error correction level\n * @return {Number}                      Number of error correction codewords\n */\nvar getTotalCodewordsCount = function getTotalCodewordsCount(version, errorCorrectionLevel$1) {\n    switch (errorCorrectionLevel$1) {\n        case errorCorrectionLevel.L:\n            return EC_CODEWORDS_TABLE[(version - 1) * 4 + 0];\n        case errorCorrectionLevel.M:\n            return EC_CODEWORDS_TABLE[(version - 1) * 4 + 1];\n        case errorCorrectionLevel.Q:\n            return EC_CODEWORDS_TABLE[(version - 1) * 4 + 2];\n        case errorCorrectionLevel.H:\n            return EC_CODEWORDS_TABLE[(version - 1) * 4 + 3];\n        default:\n            return undefined;\n    }\n};\nvar errorCorrectionCode = {\n    getBlocksCount: getBlocksCount,\n    getTotalCodewordsCount: getTotalCodewordsCount\n};\nvar EXP_TABLE = typedarrayBuffer.alloc(512);\nvar LOG_TABLE = typedarrayBuffer.alloc(256);\n(function initTables() {\n    var x = 1;\n    for (var i = 0; i < 255; i++) {\n        EXP_TABLE[i] = x;\n        LOG_TABLE[x] = i;\n        x <<= 1; // multiply by 2\n        // The QR code specification says to use byte-wise modulo 100011101 arithmetic.\n        // This means that when a number is 256 or larger, it should be XORed with 0x11D.\n        if (x & 0x100) { // similar to x >= 256, but a lot faster (because 0x100 == 256)\n            x ^= 0x11D;\n        }\n    }\n    // Optimization: double the size of the anti-log table so that we don't need to mod 255 to\n    // stay inside the bounds (because we will mainly use this table for the multiplication of\n    // two GF numbers, no more).\n    // @see {@link mul}\n    for (i = 255; i < 512; i++) {\n        EXP_TABLE[i] = EXP_TABLE[i - 255];\n    }\n}());\n/**\n * Returns log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nvar log = function log(n) {\n    if (n < 1)\n        throw new Error('log(' + n + ')');\n    return LOG_TABLE[n];\n};\n/**\n * Returns anti-log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nvar exp = function exp(n) {\n    return EXP_TABLE[n];\n};\n/**\n * Multiplies two number inside Galois Field\n *\n * @param  {Number} x\n * @param  {Number} y\n * @return {Number}\n */\nvar mul = function mul(x, y) {\n    if (x === 0 || y === 0)\n        return 0;\n    // should be EXP_TABLE[(LOG_TABLE[x] + LOG_TABLE[y]) % 255] if EXP_TABLE wasn't oversized\n    // @see {@link initTables}\n    return EXP_TABLE[LOG_TABLE[x] + LOG_TABLE[y]];\n};\nvar galoisField = {\n    log: log,\n    exp: exp,\n    mul: mul\n};\nvar polynomial = createCommonjsModule(function (module, exports) {\n    /**\n     * Multiplies two polynomials inside Galois Field\n     *\n     * @param  {Buffer} p1 Polynomial\n     * @param  {Buffer} p2 Polynomial\n     * @return {Buffer}    Product of p1 and p2\n     */\n    exports.mul = function mul(p1, p2) {\n        var coeff = typedarrayBuffer.alloc(p1.length + p2.length - 1);\n        for (var i = 0; i < p1.length; i++) {\n            for (var j = 0; j < p2.length; j++) {\n                coeff[i + j] ^= galoisField.mul(p1[i], p2[j]);\n            }\n        }\n        return coeff;\n    };\n    /**\n     * Calculate the remainder of polynomials division\n     *\n     * @param  {Buffer} divident Polynomial\n     * @param  {Buffer} divisor  Polynomial\n     * @return {Buffer}          Remainder\n     */\n    exports.mod = function mod(divident, divisor) {\n        var result = typedarrayBuffer.from(divident);\n        while ((result.length - divisor.length) >= 0) {\n            var coeff = result[0];\n            for (var i = 0; i < divisor.length; i++) {\n                result[i] ^= galoisField.mul(divisor[i], coeff);\n            }\n            // remove all zeros from buffer head\n            var offset = 0;\n            while (offset < result.length && result[offset] === 0)\n                offset++;\n            result = result.slice(offset);\n        }\n        return result;\n    };\n    /**\n     * Generate an irreducible generator polynomial of specified degree\n     * (used by Reed-Solomon encoder)\n     *\n     * @param  {Number} degree Degree of the generator polynomial\n     * @return {Buffer}        Buffer containing polynomial coefficients\n     */\n    exports.generateECPolynomial = function generateECPolynomial(degree) {\n        var poly = typedarrayBuffer.from([1]);\n        for (var i = 0; i < degree; i++) {\n            poly = exports.mul(poly, [1, galoisField.exp(i)]);\n        }\n        return poly;\n    };\n});\nvar Buffer$1 = buffer.Buffer;\nfunction ReedSolomonEncoder(degree) {\n    this.genPoly = undefined;\n    this.degree = degree;\n    if (this.degree)\n        this.initialize(this.degree);\n}\n/**\n * Initialize the encoder.\n * The input param should correspond to the number of error correction codewords.\n *\n * @param  {Number} degree\n */\nReedSolomonEncoder.prototype.initialize = function initialize(degree) {\n    // create an irreducible generator polynomial\n    this.degree = degree;\n    this.genPoly = polynomial.generateECPolynomial(this.degree);\n};\n/**\n * Encodes a chunk of data\n *\n * @param  {Buffer} data Buffer containing input data\n * @return {Buffer}      Buffer containing encoded data\n */\nReedSolomonEncoder.prototype.encode = function encode(data) {\n    if (!this.genPoly) {\n        throw new Error('Encoder not initialized');\n    }\n    // Calculate EC for this data block\n    // extends data size to data+genPoly size\n    var pad = typedarrayBuffer.alloc(this.degree);\n    var paddedData = Buffer$1.concat([data, pad], data.length + this.degree);\n    // The error correction codewords are the remainder after dividing the data codewords\n    // by a generator polynomial\n    var remainder = polynomial.mod(paddedData, this.genPoly);\n    // return EC data blocks (last n byte, where n is the degree of genPoly)\n    // If coefficients number in remainder are less than genPoly degree,\n    // pad with 0s to the left to reach the needed number of coefficients\n    var start = this.degree - remainder.length;\n    if (start > 0) {\n        var buff = typedarrayBuffer.alloc(this.degree);\n        remainder.copy(buff, start);\n        return buff;\n    }\n    return remainder;\n};\nvar reedSolomonEncoder = ReedSolomonEncoder;\n/**\n * Check if QR Code version is valid\n *\n * @param  {Number}  version QR Code version\n * @return {Boolean}         true if valid version, false otherwise\n */\nvar isValid = function isValid(version) {\n    return !isNaN(version) && version >= 1 && version <= 40;\n};\nvar versionCheck = {\n    isValid: isValid\n};\nvar numeric = '[0-9]+';\nvar alphanumeric = '[A-Z $%*+\\\\-./:]+';\nvar kanji = '(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|' +\n    '[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|' +\n    '[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|' +\n    '[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+';\nkanji = kanji.replace(/u/g, '\\\\u');\nvar byte = '(?:(?![A-Z0-9 $%*+\\\\-./:]|' + kanji + ')(?:.|[\\r\\n]))+';\nvar KANJI = new RegExp(kanji, 'g');\nvar BYTE_KANJI = new RegExp('[^A-Z0-9 $%*+\\\\-./:]+', 'g');\nvar BYTE = new RegExp(byte, 'g');\nvar NUMERIC = new RegExp(numeric, 'g');\nvar ALPHANUMERIC = new RegExp(alphanumeric, 'g');\nvar TEST_KANJI = new RegExp('^' + kanji + '$');\nvar TEST_NUMERIC = new RegExp('^' + numeric + '$');\nvar TEST_ALPHANUMERIC = new RegExp('^[A-Z0-9 $%*+\\\\-./:]+$');\nvar testKanji = function testKanji(str) {\n    return TEST_KANJI.test(str);\n};\nvar testNumeric = function testNumeric(str) {\n    return TEST_NUMERIC.test(str);\n};\nvar testAlphanumeric = function testAlphanumeric(str) {\n    return TEST_ALPHANUMERIC.test(str);\n};\nvar regex = {\n    KANJI: KANJI,\n    BYTE_KANJI: BYTE_KANJI,\n    BYTE: BYTE,\n    NUMERIC: NUMERIC,\n    ALPHANUMERIC: ALPHANUMERIC,\n    testKanji: testKanji,\n    testNumeric: testNumeric,\n    testAlphanumeric: testAlphanumeric\n};\nvar mode = createCommonjsModule(function (module, exports) {\n    /**\n     * Numeric mode encodes data from the decimal digit set (0 - 9)\n     * (byte values 30HEX to 39HEX).\n     * Normally, 3 data characters are represented by 10 bits.\n     *\n     * @type {Object}\n     */\n    exports.NUMERIC = {\n        id: 'Numeric',\n        bit: 1 << 0,\n        ccBits: [10, 12, 14]\n    };\n    /**\n     * Alphanumeric mode encodes data from a set of 45 characters,\n     * i.e. 10 numeric digits (0 - 9),\n     *      26 alphabetic characters (A - Z),\n     *   and 9 symbols (SP, $, %, *, +, -, ., /, :).\n     * Normally, two input characters are represented by 11 bits.\n     *\n     * @type {Object}\n     */\n    exports.ALPHANUMERIC = {\n        id: 'Alphanumeric',\n        bit: 1 << 1,\n        ccBits: [9, 11, 13]\n    };\n    /**\n     * In byte mode, data is encoded at 8 bits per character.\n     *\n     * @type {Object}\n     */\n    exports.BYTE = {\n        id: 'Byte',\n        bit: 1 << 2,\n        ccBits: [8, 16, 16]\n    };\n    /**\n     * The Kanji mode efficiently encodes Kanji characters in accordance with\n     * the Shift JIS system based on JIS X 0208.\n     * The Shift JIS values are shifted from the JIS X 0208 values.\n     * JIS X 0208 gives details of the shift coded representation.\n     * Each two-byte character value is compacted to a 13-bit binary codeword.\n     *\n     * @type {Object}\n     */\n    exports.KANJI = {\n        id: 'Kanji',\n        bit: 1 << 3,\n        ccBits: [8, 10, 12]\n    };\n    /**\n     * Mixed mode will contain a sequences of data in a combination of any of\n     * the modes described above\n     *\n     * @type {Object}\n     */\n    exports.MIXED = {\n        bit: -1\n    };\n    /**\n     * Returns the number of bits needed to store the data length\n     * according to QR Code specifications.\n     *\n     * @param  {Mode}   mode    Data mode\n     * @param  {Number} version QR Code version\n     * @return {Number}         Number of bits\n     */\n    exports.getCharCountIndicator = function getCharCountIndicator(mode, version) {\n        if (!mode.ccBits)\n            throw new Error('Invalid mode: ' + mode);\n        if (!versionCheck.isValid(version)) {\n            throw new Error('Invalid version: ' + version);\n        }\n        if (version >= 1 && version < 10)\n            return mode.ccBits[0];\n        else if (version < 27)\n            return mode.ccBits[1];\n        return mode.ccBits[2];\n    };\n    /**\n     * Returns the most efficient mode to store the specified data\n     *\n     * @param  {String} dataStr Input data string\n     * @return {Mode}           Best mode\n     */\n    exports.getBestModeForData = function getBestModeForData(dataStr) {\n        if (regex.testNumeric(dataStr))\n            return exports.NUMERIC;\n        else if (regex.testAlphanumeric(dataStr))\n            return exports.ALPHANUMERIC;\n        else if (regex.testKanji(dataStr))\n            return exports.KANJI;\n        else\n            return exports.BYTE;\n    };\n    /**\n     * Return mode name as string\n     *\n     * @param {Mode} mode Mode object\n     * @returns {String}  Mode name\n     */\n    exports.toString = function toString(mode) {\n        if (mode && mode.id)\n            return mode.id;\n        throw new Error('Invalid mode');\n    };\n    /**\n     * Check if input param is a valid mode object\n     *\n     * @param   {Mode}    mode Mode object\n     * @returns {Boolean} True if valid mode, false otherwise\n     */\n    exports.isValid = function isValid(mode) {\n        return mode && mode.bit && mode.ccBits;\n    };\n    /**\n     * Get mode object from its name\n     *\n     * @param   {String} string Mode name\n     * @returns {Mode}          Mode object\n     */\n    function fromString(string) {\n        if (typeof string !== 'string') {\n            throw new Error('Param is not a string');\n        }\n        var lcStr = string.toLowerCase();\n        switch (lcStr) {\n            case 'numeric':\n                return exports.NUMERIC;\n            case 'alphanumeric':\n                return exports.ALPHANUMERIC;\n            case 'kanji':\n                return exports.KANJI;\n            case 'byte':\n                return exports.BYTE;\n            default:\n                throw new Error('Unknown mode: ' + string);\n        }\n    }\n    /**\n     * Returns mode from a value.\n     * If value is not a valid mode, returns defaultValue\n     *\n     * @param  {Mode|String} value        Encoding mode\n     * @param  {Mode}        defaultValue Fallback value\n     * @return {Mode}                     Encoding mode\n     */\n    exports.from = function from(value, defaultValue) {\n        if (exports.isValid(value)) {\n            return value;\n        }\n        try {\n            return fromString(value);\n        }\n        catch (e) {\n            return defaultValue;\n        }\n    };\n});\nvar version = createCommonjsModule(function (module, exports) {\n    // Generator polynomial used to encode version information\n    var G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);\n    var G18_BCH = utils.getBCHDigit(G18);\n    function getBestVersionForDataLength(mode, length, errorCorrectionLevel) {\n        for (var currentVersion = 1; currentVersion <= 40; currentVersion++) {\n            if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode)) {\n                return currentVersion;\n            }\n        }\n        return undefined;\n    }\n    function getReservedBitsCount(mode$1, version) {\n        // Character count indicator + mode indicator bits\n        return mode.getCharCountIndicator(mode$1, version) + 4;\n    }\n    function getTotalBitsFromDataArray(segments, version) {\n        var totalBits = 0;\n        segments.forEach(function (data) {\n            var reservedBits = getReservedBitsCount(data.mode, version);\n            totalBits += reservedBits + data.getBitsLength();\n        });\n        return totalBits;\n    }\n    function getBestVersionForMixedData(segments, errorCorrectionLevel) {\n        for (var currentVersion = 1; currentVersion <= 40; currentVersion++) {\n            var length = getTotalBitsFromDataArray(segments, currentVersion);\n            if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode.MIXED)) {\n                return currentVersion;\n            }\n        }\n        return undefined;\n    }\n    /**\n     * Returns version number from a value.\n     * If value is not a valid version, returns defaultValue\n     *\n     * @param  {Number|String} value        QR Code version\n     * @param  {Number}        defaultValue Fallback value\n     * @return {Number}                     QR Code version number\n     */\n    exports.from = function from(value, defaultValue) {\n        if (versionCheck.isValid(value)) {\n            return parseInt(value, 10);\n        }\n        return defaultValue;\n    };\n    /**\n     * Returns how much data can be stored with the specified QR code version\n     * and error correction level\n     *\n     * @param  {Number} version              QR Code version (1-40)\n     * @param  {Number} errorCorrectionLevel Error correction level\n     * @param  {Mode}   mode                 Data mode\n     * @return {Number}                      Quantity of storable data\n     */\n    exports.getCapacity = function getCapacity(version, errorCorrectionLevel, mode$1) {\n        if (!versionCheck.isValid(version)) {\n            throw new Error('Invalid QR Code version');\n        }\n        // Use Byte mode as default\n        if (typeof mode$1 === 'undefined')\n            mode$1 = mode.BYTE;\n        // Total codewords for this QR code version (Data + Error correction)\n        var totalCodewords = utils.getSymbolTotalCodewords(version);\n        // Total number of error correction codewords\n        var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel);\n        // Total number of data codewords\n        var dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8;\n        if (mode$1 === mode.MIXED)\n            return dataTotalCodewordsBits;\n        var usableBits = dataTotalCodewordsBits - getReservedBitsCount(mode$1, version);\n        // Return max number of storable codewords\n        switch (mode$1) {\n            case mode.NUMERIC:\n                return Math.floor((usableBits / 10) * 3);\n            case mode.ALPHANUMERIC:\n                return Math.floor((usableBits / 11) * 2);\n            case mode.KANJI:\n                return Math.floor(usableBits / 13);\n            case mode.BYTE:\n            default:\n                return Math.floor(usableBits / 8);\n        }\n    };\n    /**\n     * Returns the minimum version needed to contain the amount of data\n     *\n     * @param  {Segment} data                    Segment of data\n     * @param  {Number} [errorCorrectionLevel=H] Error correction level\n     * @param  {Mode} mode                       Data mode\n     * @return {Number}                          QR Code version\n     */\n    exports.getBestVersionForData = function getBestVersionForData(data, errorCorrectionLevel$1) {\n        var seg;\n        var ecl = errorCorrectionLevel.from(errorCorrectionLevel$1, errorCorrectionLevel.M);\n        if (isarray(data)) {\n            if (data.length > 1) {\n                return getBestVersionForMixedData(data, ecl);\n            }\n            if (data.length === 0) {\n                return 1;\n            }\n            seg = data[0];\n        }\n        else {\n            seg = data;\n        }\n        return getBestVersionForDataLength(seg.mode, seg.getLength(), ecl);\n    };\n    /**\n     * Returns version information with relative error correction bits\n     *\n     * The version information is included in QR Code symbols of version 7 or larger.\n     * It consists of an 18-bit sequence containing 6 data bits,\n     * with 12 error correction bits calculated using the (18, 6) Golay code.\n     *\n     * @param  {Number} version QR Code version\n     * @return {Number}         Encoded version info bits\n     */\n    exports.getEncodedBits = function getEncodedBits(version) {\n        if (!versionCheck.isValid(version) || version < 7) {\n            throw new Error('Invalid QR Code version');\n        }\n        var d = version << 12;\n        while (utils.getBCHDigit(d) - G18_BCH >= 0) {\n            d ^= (G18 << (utils.getBCHDigit(d) - G18_BCH));\n        }\n        return (version << 12) | d;\n    };\n});\nvar G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\nvar G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\nvar G15_BCH = utils.getBCHDigit(G15);\n/**\n * Returns format information with relative error correction bits\n *\n * The format information is a 15-bit sequence containing 5 data bits,\n * with 10 error correction bits calculated using the (15, 5) BCH code.\n *\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Number} mask                 Mask pattern\n * @return {Number}                      Encoded format information bits\n */\nvar getEncodedBits = function getEncodedBits(errorCorrectionLevel, mask) {\n    var data = ((errorCorrectionLevel.bit << 3) | mask);\n    var d = data << 10;\n    while (utils.getBCHDigit(d) - G15_BCH >= 0) {\n        d ^= (G15 << (utils.getBCHDigit(d) - G15_BCH));\n    }\n    // xor final data with mask pattern in order to ensure that\n    // no combination of Error Correction Level and data mask pattern\n    // will result in an all-zero data string\n    return ((data << 10) | d) ^ G15_MASK;\n};\nvar formatInfo = {\n    getEncodedBits: getEncodedBits\n};\nfunction NumericData(data) {\n    this.mode = mode.NUMERIC;\n    this.data = data.toString();\n}\nNumericData.getBitsLength = function getBitsLength(length) {\n    return 10 * Math.floor(length / 3) + ((length % 3) ? ((length % 3) * 3 + 1) : 0);\n};\nNumericData.prototype.getLength = function getLength() {\n    return this.data.length;\n};\nNumericData.prototype.getBitsLength = function getBitsLength() {\n    return NumericData.getBitsLength(this.data.length);\n};\nNumericData.prototype.write = function write(bitBuffer) {\n    var i, group, value;\n    // The input data string is divided into groups of three digits,\n    // and each group is converted to its 10-bit binary equivalent.\n    for (i = 0; i + 3 <= this.data.length; i += 3) {\n        group = this.data.substr(i, 3);\n        value = parseInt(group, 10);\n        bitBuffer.put(value, 10);\n    }\n    // If the number of input digits is not an exact multiple of three,\n    // the final one or two digits are converted to 4 or 7 bits respectively.\n    var remainingNum = this.data.length - i;\n    if (remainingNum > 0) {\n        group = this.data.substr(i);\n        value = parseInt(group, 10);\n        bitBuffer.put(value, remainingNum * 3 + 1);\n    }\n};\nvar numericData = NumericData;\n/**\n * Array of characters available in alphanumeric mode\n *\n * As per QR Code specification, to each character\n * is assigned a value from 0 to 44 which in this case coincides\n * with the array index\n *\n * @type {Array}\n */\nvar ALPHA_NUM_CHARS = [\n    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n    'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',\n    'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',\n    ' ', '$', '%', '*', '+', '-', '.', '/', ':'\n];\nfunction AlphanumericData(data) {\n    this.mode = mode.ALPHANUMERIC;\n    this.data = data;\n}\nAlphanumericData.getBitsLength = function getBitsLength(length) {\n    return 11 * Math.floor(length / 2) + 6 * (length % 2);\n};\nAlphanumericData.prototype.getLength = function getLength() {\n    return this.data.length;\n};\nAlphanumericData.prototype.getBitsLength = function getBitsLength() {\n    return AlphanumericData.getBitsLength(this.data.length);\n};\nAlphanumericData.prototype.write = function write(bitBuffer) {\n    var i;\n    // Input data characters are divided into groups of two characters\n    // and encoded as 11-bit binary codes.\n    for (i = 0; i + 2 <= this.data.length; i += 2) {\n        // The character value of the first character is multiplied by 45\n        var value = ALPHA_NUM_CHARS.indexOf(this.data[i]) * 45;\n        // The character value of the second digit is added to the product\n        value += ALPHA_NUM_CHARS.indexOf(this.data[i + 1]);\n        // The sum is then stored as 11-bit binary number\n        bitBuffer.put(value, 11);\n    }\n    // If the number of input data characters is not a multiple of two,\n    // the character value of the final character is encoded as a 6-bit binary number.\n    if (this.data.length % 2) {\n        bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]), 6);\n    }\n};\nvar alphanumericData = AlphanumericData;\nfunction ByteData(data) {\n    this.mode = mode.BYTE;\n    this.data = typedarrayBuffer.from(data);\n}\nByteData.getBitsLength = function getBitsLength(length) {\n    return length * 8;\n};\nByteData.prototype.getLength = function getLength() {\n    return this.data.length;\n};\nByteData.prototype.getBitsLength = function getBitsLength() {\n    return ByteData.getBitsLength(this.data.length);\n};\nByteData.prototype.write = function (bitBuffer) {\n    for (var i = 0, l = this.data.length; i < l; i++) {\n        bitBuffer.put(this.data[i], 8);\n    }\n};\nvar byteData = ByteData;\nfunction KanjiData(data) {\n    this.mode = mode.KANJI;\n    this.data = data;\n}\nKanjiData.getBitsLength = function getBitsLength(length) {\n    return length * 13;\n};\nKanjiData.prototype.getLength = function getLength() {\n    return this.data.length;\n};\nKanjiData.prototype.getBitsLength = function getBitsLength() {\n    return KanjiData.getBitsLength(this.data.length);\n};\nKanjiData.prototype.write = function (bitBuffer) {\n    var i;\n    // In the Shift JIS system, Kanji characters are represented by a two byte combination.\n    // These byte values are shifted from the JIS X 0208 values.\n    // JIS X 0208 gives details of the shift coded representation.\n    for (i = 0; i < this.data.length; i++) {\n        var value = utils.toSJIS(this.data[i]);\n        // For characters with Shift JIS values from 0x8140 to 0x9FFC:\n        if (value >= 0x8140 && value <= 0x9FFC) {\n            // Subtract 0x8140 from Shift JIS value\n            value -= 0x8140;\n            // For characters with Shift JIS values from 0xE040 to 0xEBBF\n        }\n        else if (value >= 0xE040 && value <= 0xEBBF) {\n            // Subtract 0xC140 from Shift JIS value\n            value -= 0xC140;\n        }\n        else {\n            throw new Error('Invalid SJIS character: ' + this.data[i] + '\\n' +\n                'Make sure your charset is UTF-8');\n        }\n        // Multiply most significant byte of result by 0xC0\n        // and add least significant byte to product\n        value = (((value >>> 8) & 0xff) * 0xC0) + (value & 0xff);\n        // Convert result to a 13-bit binary string\n        bitBuffer.put(value, 13);\n    }\n};\nvar kanjiData = KanjiData;\nvar dijkstra_1 = createCommonjsModule(function (module) {\n    /******************************************************************************\n     * Created 2008-08-19.\n     *\n     * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.\n     *\n     * Copyright (C) 2008\n     *   Wyatt Baldwin <self@wyattbaldwin.com>\n     *   All rights reserved\n     *\n     * Licensed under the MIT license.\n     *\n     *   http://www.opensource.org/licenses/mit-license.php\n     *\n     * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n     * THE SOFTWARE.\n     *****************************************************************************/\n    var dijkstra = {\n        single_source_shortest_paths: function (graph, s, d) {\n            // Predecessor map for each node that has been encountered.\n            // node ID => predecessor node ID\n            var predecessors = {};\n            // Costs of shortest paths from s to all nodes encountered.\n            // node ID => cost\n            var costs = {};\n            costs[s] = 0;\n            // Costs of shortest paths from s to all nodes encountered; differs from\n            // `costs` in that it provides easy access to the node that currently has\n            // the known shortest path from s.\n            // XXX: Do we actually need both `costs` and `open`?\n            var open = dijkstra.PriorityQueue.make();\n            open.push(s, 0);\n            var closest, u, v, cost_of_s_to_u, adjacent_nodes, cost_of_e, cost_of_s_to_u_plus_cost_of_e, cost_of_s_to_v, first_visit;\n            while (!open.empty()) {\n                // In the nodes remaining in graph that have a known cost from s,\n                // find the node, u, that currently has the shortest path from s.\n                closest = open.pop();\n                u = closest.value;\n                cost_of_s_to_u = closest.cost;\n                // Get nodes adjacent to u...\n                adjacent_nodes = graph[u] || {};\n                // ...and explore the edges that connect u to those nodes, updating\n                // the cost of the shortest paths to any or all of those nodes as\n                // necessary. v is the node across the current edge from u.\n                for (v in adjacent_nodes) {\n                    if (adjacent_nodes.hasOwnProperty(v)) {\n                        // Get the cost of the edge running from u to v.\n                        cost_of_e = adjacent_nodes[v];\n                        // Cost of s to u plus the cost of u to v across e--this is *a*\n                        // cost from s to v that may or may not be less than the current\n                        // known cost to v.\n                        cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e;\n                        // If we haven't visited v yet OR if the current known cost from s to\n                        // v is greater than the new cost we just found (cost of s to u plus\n                        // cost of u to v across e), update v's cost in the cost list and\n                        // update v's predecessor in the predecessor list (it's now u).\n                        cost_of_s_to_v = costs[v];\n                        first_visit = (typeof costs[v] === 'undefined');\n                        if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {\n                            costs[v] = cost_of_s_to_u_plus_cost_of_e;\n                            open.push(v, cost_of_s_to_u_plus_cost_of_e);\n                            predecessors[v] = u;\n                        }\n                    }\n                }\n            }\n            if (typeof d !== 'undefined' && typeof costs[d] === 'undefined') {\n                var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');\n                throw new Error(msg);\n            }\n            return predecessors;\n        },\n        extract_shortest_path_from_predecessor_list: function (predecessors, d) {\n            var nodes = [];\n            var u = d;\n            while (u) {\n                nodes.push(u);\n                u = predecessors[u];\n            }\n            nodes.reverse();\n            return nodes;\n        },\n        find_path: function (graph, s, d) {\n            var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);\n            return dijkstra.extract_shortest_path_from_predecessor_list(predecessors, d);\n        },\n        /**\n         * A very naive priority queue implementation.\n         */\n        PriorityQueue: {\n            make: function (opts) {\n                var T = dijkstra.PriorityQueue, t = {}, key;\n                opts = opts || {};\n                for (key in T) {\n                    if (T.hasOwnProperty(key)) {\n                        t[key] = T[key];\n                    }\n                }\n                t.queue = [];\n                t.sorter = opts.sorter || T.default_sorter;\n                return t;\n            },\n            default_sorter: function (a, b) {\n                return a.cost - b.cost;\n            },\n            /**\n             * Add a new item to the queue and ensure the highest priority element\n             * is at the front of the queue.\n             */\n            push: function (value, cost) {\n                var item = { value: value, cost: cost };\n                this.queue.push(item);\n                this.queue.sort(this.sorter);\n            },\n            /**\n             * Return the highest priority element in the queue.\n             */\n            pop: function () {\n                return this.queue.shift();\n            },\n            empty: function () {\n                return this.queue.length === 0;\n            }\n        }\n    };\n    // node.js module exports\n    {\n        module.exports = dijkstra;\n    }\n});\nvar segments = createCommonjsModule(function (module, exports) {\n    /**\n     * Returns UTF8 byte length\n     *\n     * @param  {String} str Input string\n     * @return {Number}     Number of byte\n     */\n    function getStringByteLength(str) {\n        return unescape(encodeURIComponent(str)).length;\n    }\n    /**\n     * Get a list of segments of the specified mode\n     * from a string\n     *\n     * @param  {Mode}   mode Segment mode\n     * @param  {String} str  String to process\n     * @return {Array}       Array of object with segments data\n     */\n    function getSegments(regex, mode, str) {\n        var segments = [];\n        var result;\n        while ((result = regex.exec(str)) !== null) {\n            segments.push({\n                data: result[0],\n                index: result.index,\n                mode: mode,\n                length: result[0].length\n            });\n        }\n        return segments;\n    }\n    /**\n     * Extracts a series of segments with the appropriate\n     * modes from a string\n     *\n     * @param  {String} dataStr Input string\n     * @return {Array}          Array of object with segments data\n     */\n    function getSegmentsFromString(dataStr) {\n        var numSegs = getSegments(regex.NUMERIC, mode.NUMERIC, dataStr);\n        var alphaNumSegs = getSegments(regex.ALPHANUMERIC, mode.ALPHANUMERIC, dataStr);\n        var byteSegs;\n        var kanjiSegs;\n        if (utils.isKanjiModeEnabled()) {\n            byteSegs = getSegments(regex.BYTE, mode.BYTE, dataStr);\n            kanjiSegs = getSegments(regex.KANJI, mode.KANJI, dataStr);\n        }\n        else {\n            byteSegs = getSegments(regex.BYTE_KANJI, mode.BYTE, dataStr);\n            kanjiSegs = [];\n        }\n        var segs = numSegs.concat(alphaNumSegs, byteSegs, kanjiSegs);\n        return segs\n            .sort(function (s1, s2) {\n            return s1.index - s2.index;\n        })\n            .map(function (obj) {\n            return {\n                data: obj.data,\n                mode: obj.mode,\n                length: obj.length\n            };\n        });\n    }\n    /**\n     * Returns how many bits are needed to encode a string of\n     * specified length with the specified mode\n     *\n     * @param  {Number} length String length\n     * @param  {Mode} mode     Segment mode\n     * @return {Number}        Bit length\n     */\n    function getSegmentBitsLength(length, mode$1) {\n        switch (mode$1) {\n            case mode.NUMERIC:\n                return numericData.getBitsLength(length);\n            case mode.ALPHANUMERIC:\n                return alphanumericData.getBitsLength(length);\n            case mode.KANJI:\n                return kanjiData.getBitsLength(length);\n            case mode.BYTE:\n                return byteData.getBitsLength(length);\n        }\n    }\n    /**\n     * Merges adjacent segments which have the same mode\n     *\n     * @param  {Array} segs Array of object with segments data\n     * @return {Array}      Array of object with segments data\n     */\n    function mergeSegments(segs) {\n        return segs.reduce(function (acc, curr) {\n            var prevSeg = acc.length - 1 >= 0 ? acc[acc.length - 1] : null;\n            if (prevSeg && prevSeg.mode === curr.mode) {\n                acc[acc.length - 1].data += curr.data;\n                return acc;\n            }\n            acc.push(curr);\n            return acc;\n        }, []);\n    }\n    /**\n     * Generates a list of all possible nodes combination which\n     * will be used to build a segments graph.\n     *\n     * Nodes are divided by groups. Each group will contain a list of all the modes\n     * in which is possible to encode the given text.\n     *\n     * For example the text '12345' can be encoded as Numeric, Alphanumeric or Byte.\n     * The group for '12345' will contain then 3 objects, one for each\n     * possible encoding mode.\n     *\n     * Each node represents a possible segment.\n     *\n     * @param  {Array} segs Array of object with segments data\n     * @return {Array}      Array of object with segments data\n     */\n    function buildNodes(segs) {\n        var nodes = [];\n        for (var i = 0; i < segs.length; i++) {\n            var seg = segs[i];\n            switch (seg.mode) {\n                case mode.NUMERIC:\n                    nodes.push([seg,\n                        { data: seg.data, mode: mode.ALPHANUMERIC, length: seg.length },\n                        { data: seg.data, mode: mode.BYTE, length: seg.length }\n                    ]);\n                    break;\n                case mode.ALPHANUMERIC:\n                    nodes.push([seg,\n                        { data: seg.data, mode: mode.BYTE, length: seg.length }\n                    ]);\n                    break;\n                case mode.KANJI:\n                    nodes.push([seg,\n                        { data: seg.data, mode: mode.BYTE, length: getStringByteLength(seg.data) }\n                    ]);\n                    break;\n                case mode.BYTE:\n                    nodes.push([\n                        { data: seg.data, mode: mode.BYTE, length: getStringByteLength(seg.data) }\n                    ]);\n            }\n        }\n        return nodes;\n    }\n    /**\n     * Builds a graph from a list of nodes.\n     * All segments in each node group will be connected with all the segments of\n     * the next group and so on.\n     *\n     * At each connection will be assigned a weight depending on the\n     * segment's byte length.\n     *\n     * @param  {Array} nodes    Array of object with segments data\n     * @param  {Number} version QR Code version\n     * @return {Object}         Graph of all possible segments\n     */\n    function buildGraph(nodes, version) {\n        var table = {};\n        var graph = { 'start': {} };\n        var prevNodeIds = ['start'];\n        for (var i = 0; i < nodes.length; i++) {\n            var nodeGroup = nodes[i];\n            var currentNodeIds = [];\n            for (var j = 0; j < nodeGroup.length; j++) {\n                var node = nodeGroup[j];\n                var key = '' + i + j;\n                currentNodeIds.push(key);\n                table[key] = { node: node, lastCount: 0 };\n                graph[key] = {};\n                for (var n = 0; n < prevNodeIds.length; n++) {\n                    var prevNodeId = prevNodeIds[n];\n                    if (table[prevNodeId] && table[prevNodeId].node.mode === node.mode) {\n                        graph[prevNodeId][key] =\n                            getSegmentBitsLength(table[prevNodeId].lastCount + node.length, node.mode) -\n                                getSegmentBitsLength(table[prevNodeId].lastCount, node.mode);\n                        table[prevNodeId].lastCount += node.length;\n                    }\n                    else {\n                        if (table[prevNodeId])\n                            table[prevNodeId].lastCount = node.length;\n                        graph[prevNodeId][key] = getSegmentBitsLength(node.length, node.mode) +\n                            4 + mode.getCharCountIndicator(node.mode, version); // switch cost\n                    }\n                }\n            }\n            prevNodeIds = currentNodeIds;\n        }\n        for (n = 0; n < prevNodeIds.length; n++) {\n            graph[prevNodeIds[n]]['end'] = 0;\n        }\n        return { map: graph, table: table };\n    }\n    /**\n     * Builds a segment from a specified data and mode.\n     * If a mode is not specified, the more suitable will be used.\n     *\n     * @param  {String} data             Input data\n     * @param  {Mode | String} modesHint Data mode\n     * @return {Segment}                 Segment\n     */\n    function buildSingleSegment(data, modesHint) {\n        var mode$1;\n        var bestMode = mode.getBestModeForData(data);\n        mode$1 = mode.from(modesHint, bestMode);\n        // Make sure data can be encoded\n        if (mode$1 !== mode.BYTE && mode$1.bit < bestMode.bit) {\n            throw new Error('\"' + data + '\"' +\n                ' cannot be encoded with mode ' + mode.toString(mode$1) +\n                '.\\n Suggested mode is: ' + mode.toString(bestMode));\n        }\n        // Use Mode.BYTE if Kanji support is disabled\n        if (mode$1 === mode.KANJI && !utils.isKanjiModeEnabled()) {\n            mode$1 = mode.BYTE;\n        }\n        switch (mode$1) {\n            case mode.NUMERIC:\n                return new numericData(data);\n            case mode.ALPHANUMERIC:\n                return new alphanumericData(data);\n            case mode.KANJI:\n                return new kanjiData(data);\n            case mode.BYTE:\n                return new byteData(data);\n        }\n    }\n    /**\n     * Builds a list of segments from an array.\n     * Array can contain Strings or Objects with segment's info.\n     *\n     * For each item which is a string, will be generated a segment with the given\n     * string and the more appropriate encoding mode.\n     *\n     * For each item which is an object, will be generated a segment with the given\n     * data and mode.\n     * Objects must contain at least the property \"data\".\n     * If property \"mode\" is not present, the more suitable mode will be used.\n     *\n     * @param  {Array} array Array of objects with segments data\n     * @return {Array}       Array of Segments\n     */\n    exports.fromArray = function fromArray(array) {\n        return array.reduce(function (acc, seg) {\n            if (typeof seg === 'string') {\n                acc.push(buildSingleSegment(seg, null));\n            }\n            else if (seg.data) {\n                acc.push(buildSingleSegment(seg.data, seg.mode));\n            }\n            return acc;\n        }, []);\n    };\n    /**\n     * Builds an optimized sequence of segments from a string,\n     * which will produce the shortest possible bitstream.\n     *\n     * @param  {String} data    Input string\n     * @param  {Number} version QR Code version\n     * @return {Array}          Array of segments\n     */\n    exports.fromString = function fromString(data, version) {\n        var segs = getSegmentsFromString(data, utils.isKanjiModeEnabled());\n        var nodes = buildNodes(segs);\n        var graph = buildGraph(nodes, version);\n        var path = dijkstra_1.find_path(graph.map, 'start', 'end');\n        var optimizedSegs = [];\n        for (var i = 1; i < path.length - 1; i++) {\n            optimizedSegs.push(graph.table[path[i]].node);\n        }\n        return exports.fromArray(mergeSegments(optimizedSegs));\n    };\n    /**\n     * Splits a string in various segments with the modes which\n     * best represent their content.\n     * The produced segments are far from being optimized.\n     * The output of this function is only used to estimate a QR Code version\n     * which may contain the data.\n     *\n     * @param  {string} data Input string\n     * @return {Array}       Array of segments\n     */\n    exports.rawSplit = function rawSplit(data) {\n        return exports.fromArray(getSegmentsFromString(data, utils.isKanjiModeEnabled()));\n    };\n});\n/**\n * QRCode for JavaScript\n *\n * modified by Ryan Day for nodejs support\n * Copyright (c) 2011 Ryan Day\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n*/\n/**\n * Add finder patterns bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupFinderPattern(matrix, version) {\n    var size = matrix.size;\n    var pos = finderPattern.getPositions(version);\n    for (var i = 0; i < pos.length; i++) {\n        var row = pos[i][0];\n        var col = pos[i][1];\n        for (var r = -1; r <= 7; r++) {\n            if (row + r <= -1 || size <= row + r)\n                continue;\n            for (var c = -1; c <= 7; c++) {\n                if (col + c <= -1 || size <= col + c)\n                    continue;\n                if ((r >= 0 && r <= 6 && (c === 0 || c === 6)) ||\n                    (c >= 0 && c <= 6 && (r === 0 || r === 6)) ||\n                    (r >= 2 && r <= 4 && c >= 2 && c <= 4)) {\n                    matrix.set(row + r, col + c, true, true);\n                }\n                else {\n                    matrix.set(row + r, col + c, false, true);\n                }\n            }\n        }\n    }\n}\n/**\n * Add timing pattern bits to matrix\n *\n * Note: this function must be called before {@link setupAlignmentPattern}\n *\n * @param  {BitMatrix} matrix Modules matrix\n */\nfunction setupTimingPattern(matrix) {\n    var size = matrix.size;\n    for (var r = 8; r < size - 8; r++) {\n        var value = r % 2 === 0;\n        matrix.set(r, 6, value, true);\n        matrix.set(6, r, value, true);\n    }\n}\n/**\n * Add alignment patterns bits to matrix\n *\n * Note: this function must be called after {@link setupTimingPattern}\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupAlignmentPattern(matrix, version) {\n    var pos = alignmentPattern.getPositions(version);\n    for (var i = 0; i < pos.length; i++) {\n        var row = pos[i][0];\n        var col = pos[i][1];\n        for (var r = -2; r <= 2; r++) {\n            for (var c = -2; c <= 2; c++) {\n                if (r === -2 || r === 2 || c === -2 || c === 2 ||\n                    (r === 0 && c === 0)) {\n                    matrix.set(row + r, col + c, true, true);\n                }\n                else {\n                    matrix.set(row + r, col + c, false, true);\n                }\n            }\n        }\n    }\n}\n/**\n * Add version info bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupVersionInfo(matrix, version$1) {\n    var size = matrix.size;\n    var bits = version.getEncodedBits(version$1);\n    var row, col, mod;\n    for (var i = 0; i < 18; i++) {\n        row = Math.floor(i / 3);\n        col = i % 3 + size - 8 - 3;\n        mod = ((bits >> i) & 1) === 1;\n        matrix.set(row, col, mod, true);\n        matrix.set(col, row, mod, true);\n    }\n}\n/**\n * Add format info bits to matrix\n *\n * @param  {BitMatrix} matrix               Modules matrix\n * @param  {ErrorCorrectionLevel}    errorCorrectionLevel Error correction level\n * @param  {Number}    maskPattern          Mask pattern reference value\n */\nfunction setupFormatInfo(matrix, errorCorrectionLevel, maskPattern) {\n    var size = matrix.size;\n    var bits = formatInfo.getEncodedBits(errorCorrectionLevel, maskPattern);\n    var i, mod;\n    for (i = 0; i < 15; i++) {\n        mod = ((bits >> i) & 1) === 1;\n        // vertical\n        if (i < 6) {\n            matrix.set(i, 8, mod, true);\n        }\n        else if (i < 8) {\n            matrix.set(i + 1, 8, mod, true);\n        }\n        else {\n            matrix.set(size - 15 + i, 8, mod, true);\n        }\n        // horizontal\n        if (i < 8) {\n            matrix.set(8, size - i - 1, mod, true);\n        }\n        else if (i < 9) {\n            matrix.set(8, 15 - i - 1 + 1, mod, true);\n        }\n        else {\n            matrix.set(8, 15 - i - 1, mod, true);\n        }\n    }\n    // fixed module\n    matrix.set(size - 8, 8, 1, true);\n}\n/**\n * Add encoded data bits to matrix\n *\n * @param  {BitMatrix} matrix Modules matrix\n * @param  {Buffer}    data   Data codewords\n */\nfunction setupData(matrix, data) {\n    var size = matrix.size;\n    var inc = -1;\n    var row = size - 1;\n    var bitIndex = 7;\n    var byteIndex = 0;\n    for (var col = size - 1; col > 0; col -= 2) {\n        if (col === 6)\n            col--;\n        while (true) {\n            for (var c = 0; c < 2; c++) {\n                if (!matrix.isReserved(row, col - c)) {\n                    var dark = false;\n                    if (byteIndex < data.length) {\n                        dark = (((data[byteIndex] >>> bitIndex) & 1) === 1);\n                    }\n                    matrix.set(row, col - c, dark);\n                    bitIndex--;\n                    if (bitIndex === -1) {\n                        byteIndex++;\n                        bitIndex = 7;\n                    }\n                }\n            }\n            row += inc;\n            if (row < 0 || size <= row) {\n                row -= inc;\n                inc = -inc;\n                break;\n            }\n        }\n    }\n}\n/**\n * Create encoded codewords from data input\n *\n * @param  {Number}   version              QR Code version\n * @param  {ErrorCorrectionLevel}   errorCorrectionLevel Error correction level\n * @param  {ByteData} data                 Data input\n * @return {Buffer}                        Buffer containing encoded codewords\n */\nfunction createData(version, errorCorrectionLevel, segments) {\n    // Prepare data buffer\n    var buffer = new bitBuffer();\n    segments.forEach(function (data) {\n        // prefix data with mode indicator (4 bits)\n        buffer.put(data.mode.bit, 4);\n        // Prefix data with character count indicator.\n        // The character count indicator is a string of bits that represents the\n        // number of characters that are being encoded.\n        // The character count indicator must be placed after the mode indicator\n        // and must be a certain number of bits long, depending on the QR version\n        // and data mode\n        // @see {@link Mode.getCharCountIndicator}.\n        buffer.put(data.getLength(), mode.getCharCountIndicator(data.mode, version));\n        // add binary data sequence to buffer\n        data.write(buffer);\n    });\n    // Calculate required number of bits\n    var totalCodewords = utils.getSymbolTotalCodewords(version);\n    var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel);\n    var dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8;\n    // Add a terminator.\n    // If the bit string is shorter than the total number of required bits,\n    // a terminator of up to four 0s must be added to the right side of the string.\n    // If the bit string is more than four bits shorter than the required number of bits,\n    // add four 0s to the end.\n    if (buffer.getLengthInBits() + 4 <= dataTotalCodewordsBits) {\n        buffer.put(0, 4);\n    }\n    // If the bit string is fewer than four bits shorter, add only the number of 0s that\n    // are needed to reach the required number of bits.\n    // After adding the terminator, if the number of bits in the string is not a multiple of 8,\n    // pad the string on the right with 0s to make the string's length a multiple of 8.\n    while (buffer.getLengthInBits() % 8 !== 0) {\n        buffer.putBit(0);\n    }\n    // Add pad bytes if the string is still shorter than the total number of required bits.\n    // Extend the buffer to fill the data capacity of the symbol corresponding to\n    // the Version and Error Correction Level by adding the Pad Codewords 11101100 (0xEC)\n    // and 00010001 (0x11) alternately.\n    var remainingByte = (dataTotalCodewordsBits - buffer.getLengthInBits()) / 8;\n    for (var i = 0; i < remainingByte; i++) {\n        buffer.put(i % 2 ? 0x11 : 0xEC, 8);\n    }\n    return createCodewords(buffer, version, errorCorrectionLevel);\n}\n/**\n * Encode input data with Reed-Solomon and return codewords with\n * relative error correction bits\n *\n * @param  {BitBuffer} bitBuffer            Data to encode\n * @param  {Number}    version              QR Code version\n * @param  {ErrorCorrectionLevel} errorCorrectionLevel Error correction level\n * @return {Buffer}                         Buffer containing encoded codewords\n */\nfunction createCodewords(bitBuffer, version, errorCorrectionLevel) {\n    // Total codewords for this QR code version (Data + Error correction)\n    var totalCodewords = utils.getSymbolTotalCodewords(version);\n    // Total number of error correction codewords\n    var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel);\n    // Total number of data codewords\n    var dataTotalCodewords = totalCodewords - ecTotalCodewords;\n    // Total number of blocks\n    var ecTotalBlocks = errorCorrectionCode.getBlocksCount(version, errorCorrectionLevel);\n    // Calculate how many blocks each group should contain\n    var blocksInGroup2 = totalCodewords % ecTotalBlocks;\n    var blocksInGroup1 = ecTotalBlocks - blocksInGroup2;\n    var totalCodewordsInGroup1 = Math.floor(totalCodewords / ecTotalBlocks);\n    var dataCodewordsInGroup1 = Math.floor(dataTotalCodewords / ecTotalBlocks);\n    var dataCodewordsInGroup2 = dataCodewordsInGroup1 + 1;\n    // Number of EC codewords is the same for both groups\n    var ecCount = totalCodewordsInGroup1 - dataCodewordsInGroup1;\n    // Initialize a Reed-Solomon encoder with a generator polynomial of degree ecCount\n    var rs = new reedSolomonEncoder(ecCount);\n    var offset = 0;\n    var dcData = new Array(ecTotalBlocks);\n    var ecData = new Array(ecTotalBlocks);\n    var maxDataSize = 0;\n    var buffer = typedarrayBuffer.from(bitBuffer.buffer);\n    // Divide the buffer into the required number of blocks\n    for (var b = 0; b < ecTotalBlocks; b++) {\n        var dataSize = b < blocksInGroup1 ? dataCodewordsInGroup1 : dataCodewordsInGroup2;\n        // extract a block of data from buffer\n        dcData[b] = buffer.slice(offset, offset + dataSize);\n        // Calculate EC codewords for this data block\n        ecData[b] = rs.encode(dcData[b]);\n        offset += dataSize;\n        maxDataSize = Math.max(maxDataSize, dataSize);\n    }\n    // Create final data\n    // Interleave the data and error correction codewords from each block\n    var data = typedarrayBuffer.alloc(totalCodewords);\n    var index = 0;\n    var i, r;\n    // Add data codewords\n    for (i = 0; i < maxDataSize; i++) {\n        for (r = 0; r < ecTotalBlocks; r++) {\n            if (i < dcData[r].length) {\n                data[index++] = dcData[r][i];\n            }\n        }\n    }\n    // Apped EC codewords\n    for (i = 0; i < ecCount; i++) {\n        for (r = 0; r < ecTotalBlocks; r++) {\n            data[index++] = ecData[r][i];\n        }\n    }\n    return data;\n}\n/**\n * Build QR Code symbol\n *\n * @param  {String} data                 Input string\n * @param  {Number} version              QR Code version\n * @param  {ErrorCorretionLevel} errorCorrectionLevel Error level\n * @param  {MaskPattern} maskPattern     Mask pattern\n * @return {Object}                      Object containing symbol data\n */\nfunction createSymbol(data, version$1, errorCorrectionLevel, maskPattern$1) {\n    var segments$1;\n    if (isarray(data)) {\n        segments$1 = segments.fromArray(data);\n    }\n    else if (typeof data === 'string') {\n        var estimatedVersion = version$1;\n        if (!estimatedVersion) {\n            var rawSegments = segments.rawSplit(data);\n            // Estimate best version that can contain raw splitted segments\n            estimatedVersion = version.getBestVersionForData(rawSegments, errorCorrectionLevel);\n        }\n        // Build optimized segments\n        // If estimated version is undefined, try with the highest version\n        segments$1 = segments.fromString(data, estimatedVersion || 40);\n    }\n    else {\n        throw new Error('Invalid data');\n    }\n    // Get the min version that can contain data\n    var bestVersion = version.getBestVersionForData(segments$1, errorCorrectionLevel);\n    // If no version is found, data cannot be stored\n    if (!bestVersion) {\n        throw new Error('The amount of data is too big to be stored in a QR Code');\n    }\n    // If not specified, use min version as default\n    if (!version$1) {\n        version$1 = bestVersion;\n        // Check if the specified version can contain the data\n    }\n    else if (version$1 < bestVersion) {\n        throw new Error('\\n' +\n            'The chosen QR Code version cannot contain this amount of data.\\n' +\n            'Minimum version required to store current data is: ' + bestVersion + '.\\n');\n    }\n    var dataBits = createData(version$1, errorCorrectionLevel, segments$1);\n    // Allocate matrix buffer\n    var moduleCount = utils.getSymbolSize(version$1);\n    var modules = new bitMatrix(moduleCount);\n    // Add function modules\n    setupFinderPattern(modules, version$1);\n    setupTimingPattern(modules);\n    setupAlignmentPattern(modules, version$1);\n    // Add temporary dummy bits for format info just to set them as reserved.\n    // This is needed to prevent these bits from being masked by {@link MaskPattern.applyMask}\n    // since the masking operation must be performed only on the encoding region.\n    // These blocks will be replaced with correct values later in code.\n    setupFormatInfo(modules, errorCorrectionLevel, 0);\n    if (version$1 >= 7) {\n        setupVersionInfo(modules, version$1);\n    }\n    // Add data codewords\n    setupData(modules, dataBits);\n    if (isNaN(maskPattern$1)) {\n        // Find best mask pattern\n        maskPattern$1 = maskPattern.getBestMask(modules, setupFormatInfo.bind(null, modules, errorCorrectionLevel));\n    }\n    // Apply mask pattern\n    maskPattern.applyMask(maskPattern$1, modules);\n    // Replace format info bits with correct values\n    setupFormatInfo(modules, errorCorrectionLevel, maskPattern$1);\n    return {\n        modules: modules,\n        version: version$1,\n        errorCorrectionLevel: errorCorrectionLevel,\n        maskPattern: maskPattern$1,\n        segments: segments$1\n    };\n}\n/**\n * QR Code\n *\n * @param {String | Array} data                 Input data\n * @param {Object} options                      Optional configurations\n * @param {Number} options.version              QR Code version\n * @param {String} options.errorCorrectionLevel Error correction level\n * @param {Function} options.toSJISFunc         Helper func to convert utf8 to sjis\n */\nvar create = function create(data, options) {\n    if (typeof data === 'undefined' || data === '') {\n        throw new Error('No input text');\n    }\n    var errorCorrectionLevel$1 = errorCorrectionLevel.M;\n    var version$1;\n    var mask;\n    if (typeof options !== 'undefined') {\n        // Use higher error correction level as default\n        errorCorrectionLevel$1 = errorCorrectionLevel.from(options.errorCorrectionLevel, errorCorrectionLevel.M);\n        version$1 = version.from(options.version);\n        mask = maskPattern.from(options.maskPattern);\n        if (options.toSJISFunc) {\n            utils.setToSJISFunction(options.toSJISFunc);\n        }\n    }\n    return createSymbol(data, version$1, errorCorrectionLevel$1, mask);\n};\nvar qrcode = {\n    create: create\n};\nvar utils$1 = createCommonjsModule(function (module, exports) {\n    function hex2rgba(hex) {\n        if (typeof hex === 'number') {\n            hex = hex.toString();\n        }\n        if (typeof hex !== 'string') {\n            throw new Error('Color should be defined as hex string');\n        }\n        var hexCode = hex.slice().replace('#', '').split('');\n        if (hexCode.length < 3 || hexCode.length === 5 || hexCode.length > 8) {\n            throw new Error('Invalid hex color: ' + hex);\n        }\n        // Convert from short to long form (fff -> ffffff)\n        if (hexCode.length === 3 || hexCode.length === 4) {\n            hexCode = Array.prototype.concat.apply([], hexCode.map(function (c) {\n                return [c, c];\n            }));\n        }\n        // Add default alpha value\n        if (hexCode.length === 6)\n            hexCode.push('F', 'F');\n        var hexValue = parseInt(hexCode.join(''), 16);\n        return {\n            r: (hexValue >> 24) & 255,\n            g: (hexValue >> 16) & 255,\n            b: (hexValue >> 8) & 255,\n            a: hexValue & 255,\n            hex: '#' + hexCode.slice(0, 6).join('')\n        };\n    }\n    exports.getOptions = function getOptions(options) {\n        if (!options)\n            options = {};\n        if (!options.color)\n            options.color = {};\n        var margin = typeof options.margin === 'undefined' ||\n            options.margin === null ||\n            options.margin < 0 ? 4 : options.margin;\n        var width = options.width && options.width >= 21 ? options.width : undefined;\n        var scale = options.scale || 4;\n        return {\n            width: width,\n            scale: width ? 4 : scale,\n            margin: margin,\n            color: {\n                dark: hex2rgba(options.color.dark || '#000000ff'),\n                light: hex2rgba(options.color.light || '#ffffffff')\n            },\n            type: options.type,\n            rendererOpts: options.rendererOpts || {}\n        };\n    };\n    exports.getScale = function getScale(qrSize, opts) {\n        return opts.width && opts.width >= qrSize + opts.margin * 2\n            ? opts.width / (qrSize + opts.margin * 2)\n            : opts.scale;\n    };\n    exports.getImageWidth = function getImageWidth(qrSize, opts) {\n        var scale = exports.getScale(qrSize, opts);\n        return Math.floor((qrSize + opts.margin * 2) * scale);\n    };\n    exports.qrToImageData = function qrToImageData(imgData, qr, opts) {\n        var size = qr.modules.size;\n        var data = qr.modules.data;\n        var scale = exports.getScale(size, opts);\n        var symbolSize = Math.floor((size + opts.margin * 2) * scale);\n        var scaledMargin = opts.margin * scale;\n        var palette = [opts.color.light, opts.color.dark];\n        for (var i = 0; i < symbolSize; i++) {\n            for (var j = 0; j < symbolSize; j++) {\n                var posDst = (i * symbolSize + j) * 4;\n                var pxColor = opts.color.light;\n                if (i >= scaledMargin && j >= scaledMargin &&\n                    i < symbolSize - scaledMargin && j < symbolSize - scaledMargin) {\n                    var iSrc = Math.floor((i - scaledMargin) / scale);\n                    var jSrc = Math.floor((j - scaledMargin) / scale);\n                    pxColor = palette[data[iSrc * size + jSrc] ? 1 : 0];\n                }\n                imgData[posDst++] = pxColor.r;\n                imgData[posDst++] = pxColor.g;\n                imgData[posDst++] = pxColor.b;\n                imgData[posDst] = pxColor.a;\n            }\n        }\n    };\n});\nvar canvas = createCommonjsModule(function (module, exports) {\n    function clearCanvas(ctx, canvas, size) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        if (!canvas.style)\n            canvas.style = {};\n        canvas.height = size;\n        canvas.width = size;\n        canvas.style.height = size + 'px';\n        canvas.style.width = size + 'px';\n    }\n    function getCanvasElement() {\n        try {\n            return document.createElement('canvas');\n        }\n        catch (e) {\n            throw new Error('You need to specify a canvas element');\n        }\n    }\n    exports.render = function render(qrData, canvas, options) {\n        var opts = options;\n        var canvasEl = canvas;\n        if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n            opts = canvas;\n            canvas = undefined;\n        }\n        if (!canvas) {\n            canvasEl = getCanvasElement();\n        }\n        opts = utils$1.getOptions(opts);\n        var size = utils$1.getImageWidth(qrData.modules.size, opts);\n        var ctx = canvasEl.getContext('2d');\n        var image = ctx.createImageData(size, size);\n        utils$1.qrToImageData(image.data, qrData, opts);\n        clearCanvas(ctx, canvasEl, size);\n        ctx.putImageData(image, 0, 0);\n        return canvasEl;\n    };\n    exports.renderToDataURL = function renderToDataURL(qrData, canvas, options) {\n        var opts = options;\n        if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n            opts = canvas;\n            canvas = undefined;\n        }\n        if (!opts)\n            opts = {};\n        var canvasEl = exports.render(qrData, canvas, opts);\n        var type = opts.type || 'image/png';\n        var rendererOpts = opts.rendererOpts || {};\n        return canvasEl.toDataURL(type, rendererOpts.quality);\n    };\n});\nfunction getColorAttrib(color, attrib) {\n    var alpha = color.a / 255;\n    var str = attrib + '=\"' + color.hex + '\"';\n    return alpha < 1\n        ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"'\n        : str;\n}\nfunction svgCmd(cmd, x, y) {\n    var str = cmd + x;\n    if (typeof y !== 'undefined')\n        str += ' ' + y;\n    return str;\n}\nfunction qrToPath(data, size, margin) {\n    var path = '';\n    var moveBy = 0;\n    var newRow = false;\n    var lineLength = 0;\n    for (var i = 0; i < data.length; i++) {\n        var col = Math.floor(i % size);\n        var row = Math.floor(i / size);\n        if (!col && !newRow)\n            newRow = true;\n        if (data[i]) {\n            lineLength++;\n            if (!(i > 0 && col > 0 && data[i - 1])) {\n                path += newRow\n                    ? svgCmd('M', col + margin, 0.5 + row + margin)\n                    : svgCmd('m', moveBy, 0);\n                moveBy = 0;\n                newRow = false;\n            }\n            if (!(col + 1 < size && data[i + 1])) {\n                path += svgCmd('h', lineLength);\n                lineLength = 0;\n            }\n        }\n        else {\n            moveBy++;\n        }\n    }\n    return path;\n}\nvar render = function render(qrData, options, cb) {\n    var opts = utils$1.getOptions(options);\n    var size = qrData.modules.size;\n    var data = qrData.modules.data;\n    var qrcodesize = size + opts.margin * 2;\n    var bg = !opts.color.light.a\n        ? ''\n        : '<path ' + getColorAttrib(opts.color.light, 'fill') +\n            ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>';\n    var path = '<path ' + getColorAttrib(opts.color.dark, 'stroke') +\n        ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>';\n    var viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"';\n    var width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" ';\n    var svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n';\n    if (typeof cb === 'function') {\n        cb(null, svgTag);\n    }\n    return svgTag;\n};\nvar svgTag = {\n    render: render\n};\nfunction renderCanvas(renderFunc, canvas, text, opts, cb) {\n    var args = [].slice.call(arguments, 1);\n    var argsNum = args.length;\n    var isLastArgCb = typeof args[argsNum - 1] === 'function';\n    if (!isLastArgCb && !canPromise()) {\n        throw new Error('Callback required as last argument');\n    }\n    if (isLastArgCb) {\n        if (argsNum < 2) {\n            throw new Error('Too few arguments provided');\n        }\n        if (argsNum === 2) {\n            cb = text;\n            text = canvas;\n            canvas = opts = undefined;\n        }\n        else if (argsNum === 3) {\n            if (canvas.getContext && typeof cb === 'undefined') {\n                cb = opts;\n                opts = undefined;\n            }\n            else {\n                cb = opts;\n                opts = text;\n                text = canvas;\n                canvas = undefined;\n            }\n        }\n    }\n    else {\n        if (argsNum < 1) {\n            throw new Error('Too few arguments provided');\n        }\n        if (argsNum === 1) {\n            text = canvas;\n            canvas = opts = undefined;\n        }\n        else if (argsNum === 2 && !canvas.getContext) {\n            opts = text;\n            text = canvas;\n            canvas = undefined;\n        }\n        return new Promise(function (resolve, reject) {\n            try {\n                var data = qrcode.create(text, opts);\n                resolve(renderFunc(data, canvas, opts));\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    }\n    try {\n        var data = qrcode.create(text, opts);\n        cb(null, renderFunc(data, canvas, opts));\n    }\n    catch (e) {\n        cb(e);\n    }\n}\nvar create$1 = qrcode.create;\nvar toCanvas = renderCanvas.bind(null, canvas.render);\nvar toDataURL = renderCanvas.bind(null, canvas.renderToDataURL);\n// only svg for now.\nvar toString_1 = renderCanvas.bind(null, function (data, _, opts) {\n    return svgTag.render(data, opts);\n});\nvar browser = {\n    create: create$1,\n    toCanvas: toCanvas,\n    toDataURL: toDataURL,\n    toString: toString_1\n};\nvar amplifyTotpSetupCss = \".totp-setup{text-align:center;margin-bottom:30px}.totp-setup img{height:128px;width:128px}\";\nvar logger = new Logger('TOTP');\nvar AmplifyTOTPSetup = /** @class */ (function () {\n    function AmplifyTOTPSetup(hostRef) {\n        registerInstance(this, hostRef);\n        this.inputProps = {\n            autoFocus: true,\n        };\n        /** Auth state change handler for this component */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** Used for header text in totp setup component */\n        this.headerText = I18n.get(Translations.TOTP_HEADER_TEXT);\n        this.code = null;\n        this.setupMessage = null;\n        this.qrCodeInput = null;\n        this.loading = false;\n    }\n    AmplifyTOTPSetup.prototype.componentWillLoad = function () {\n        this.setup();\n    };\n    AmplifyTOTPSetup.prototype.buildOtpAuthPath = function (user, issuer, secretKey) {\n        return \"otpauth://totp/\" + issuer + \":\" + user.username + \"?secret=\" + secretKey + \"&issuer=\" + issuer;\n    };\n    AmplifyTOTPSetup.prototype.checkContact = function (user) {\n        return __awaiter(this, void 0, void 0, function () {\n            var dataVerifed, newUser, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!Auth || typeof Auth.verifiedContact !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, Auth.verifiedContact(user)];\n                    case 2:\n                        dataVerifed = _a.sent();\n                        if (!isEmpty(dataVerifed)) {\n                            this.handleAuthStateChange(AuthState.SignedIn, user);\n                        }\n                        else {\n                            newUser = Object.assign(user, dataVerifed);\n                            this.handleAuthStateChange(AuthState.VerifyContact, newUser);\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_1 = _a.sent();\n                        dispatchToastHubEvent(error_1);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AmplifyTOTPSetup.prototype.onTOTPEvent = function (event, data, user) {\n        logger.debug('on totp event', event, data);\n        if (event === SETUP_TOTP && data === SUCCESS) {\n            this.checkContact(user);\n        }\n    };\n    AmplifyTOTPSetup.prototype.handleTotpInputChange = function (event) {\n        this.setupMessage = null;\n        this.qrCodeInput = event.target.value;\n    };\n    AmplifyTOTPSetup.prototype.generateQRCode = function (codeFromTotp) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, error_2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        _a = this;\n                        return [4 /*yield*/, browser.toDataURL(codeFromTotp)];\n                    case 1:\n                        _a.qrCodeImageSource = _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_2 = _b.sent();\n                        dispatchToastHubEvent(error_2);\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AmplifyTOTPSetup.prototype.setup = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var issuer, secretKey, error_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.setupMessage = null;\n                        issuer = encodeURI('AWSCognito');\n                        if (!Auth || typeof Auth.setupTOTP !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, 4, 5]);\n                        return [4 /*yield*/, Auth.setupTOTP(this.user)];\n                    case 2:\n                        secretKey = _a.sent();\n                        logger.debug('secret key', secretKey);\n                        this.code = this.buildOtpAuthPath(this.user, issuer, secretKey);\n                        this.generateQRCode(this.code);\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_3 = _a.sent();\n                        dispatchToastHubEvent(error_3);\n                        logger.debug(I18n.get(Translations.TOTP_SETUP_FAILURE), error_3);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AmplifyTOTPSetup.prototype.verifyTotpToken = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var user, error_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!this.qrCodeInput) {\n                            logger.debug('No TOTP Code provided');\n                            return [2 /*return*/];\n                        }\n                        user = this.user;\n                        if (!Auth || typeof Auth.verifyTotpToken !== 'function' || typeof Auth.setPreferredMFA !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, , 5]);\n                        return [4 /*yield*/, Auth.verifyTotpToken(user, this.qrCodeInput)];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, Auth.setPreferredMFA(user, MfaOption.TOTP)];\n                    case 3:\n                        _a.sent();\n                        this.setupMessage = I18n.get(Translations.TOTP_SUCCESS_MESSAGE);\n                        logger.debug(I18n.get(Translations.TOTP_SUCCESS_MESSAGE));\n                        this.onTOTPEvent(SETUP_TOTP, SUCCESS, user);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        error_4 = _a.sent();\n                        this.setupMessage = I18n.get(Translations.TOTP_SETUP_FAILURE);\n                        logger.error(error_4);\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // TODO add Toast component to the Top of the form section\n    AmplifyTOTPSetup.prototype.render = function () {\n        var _this = this;\n        return (h(\"amplify-form-section\", { headerText: this.headerText, submitButtonText: I18n.get(Translations.TOTP_SUBMIT_BUTTON_TEXT), handleSubmit: function (event) { return _this.verifyTotpToken(event); }, loading: this.loading }, h(\"div\", { class: \"totp-setup\" }, h(\"img\", { src: this.qrCodeImageSource, alt: I18n.get(Translations.QR_CODE_ALT) }), h(\"amplify-form-field\", { label: I18n.get(Translations.TOTP_LABEL), inputProps: this.inputProps, fieldId: \"totpCode\", name: \"totpCode\", handleInputChange: function (event) { return _this.handleTotpInputChange(event); } }))));\n    };\n    return AmplifyTOTPSetup;\n}());\nAmplifyTOTPSetup.style = amplifyTotpSetupCss;\nexport { AmplifyRadioButton as amplify_radio_button, AmplifyTOTPSetup as amplify_totp_setup };\n","var Translations;\n(function (Translations) {\n    Translations[\"BACK_TO_SIGN_IN\"] = \"Back to Sign In\";\n    Translations[\"CHANGE_PASSWORD_ACTION\"] = \"Change\";\n    Translations[\"CHANGE_PASSWORD\"] = \"Change Password\";\n    Translations[\"CODE_LABEL\"] = \"Verification code\";\n    Translations[\"CODE_PLACEHOLDER\"] = \"Enter code\";\n    Translations[\"CONFIRM_SIGN_UP_CODE_LABEL\"] = \"Confirmation Code\";\n    Translations[\"CONFIRM_SIGN_UP_CODE_PLACEHOLDER\"] = \"Enter your code\";\n    Translations[\"CONFIRM_SIGN_UP_HEADER_TEXT\"] = \"Confirm Sign up\";\n    Translations[\"CONFIRM_SIGN_UP_LOST_CODE\"] = \"Lost your code?\";\n    Translations[\"CONFIRM_SIGN_UP_RESEND_CODE\"] = \"Resend Code\";\n    Translations[\"CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT\"] = \"Confirm\";\n    Translations[\"CONFIRM_SMS_CODE\"] = \"Confirm SMS Code\";\n    Translations[\"CONFIRM_TOTP_CODE\"] = \"Confirm TOTP Code\";\n    Translations[\"CONFIRM\"] = \"Confirm\";\n    Translations[\"CREATE_ACCOUNT_TEXT\"] = \"Create account\";\n    Translations[\"EMAIL_LABEL\"] = \"Email Address *\";\n    Translations[\"EMAIL_PLACEHOLDER\"] = \"Enter your email address\";\n    Translations[\"FORGOT_PASSWORD_TEXT\"] = \"Forgot your password?\";\n    Translations[\"LESS_THAN_TWO_MFA_VALUES_MESSAGE\"] = \"Less than two mfa types available\";\n    Translations[\"NEW_PASSWORD_LABEL\"] = \"New password\";\n    Translations[\"NEW_PASSWORD_PLACEHOLDER\"] = \"Enter your new password\";\n    Translations[\"NO_ACCOUNT_TEXT\"] = \"No account?\";\n    Translations[\"PASSWORD_LABEL\"] = \"Password *\";\n    Translations[\"PASSWORD_PLACEHOLDER\"] = \"Enter your password\";\n    Translations[\"PHONE_LABEL\"] = \"Phone Number *\";\n    Translations[\"PHONE_PLACEHOLDER\"] = \"(555) 555-1212\";\n    Translations[\"QR_CODE_ALT\"] = \"qrcode\";\n    Translations[\"RESET_PASSWORD_TEXT\"] = \"Reset password\";\n    Translations[\"RESET_YOUR_PASSWORD\"] = \"Reset your password\";\n    Translations[\"SELECT_MFA_TYPE_HEADER_TEXT\"] = \"Select MFA Type\";\n    Translations[\"SELECT_MFA_TYPE_SUBMIT_BUTTON_TEXT\"] = \"Verify\";\n    Translations[\"SEND_CODE\"] = \"Send Code\";\n    Translations[\"SETUP_TOTP_REQUIRED\"] = \"TOTP needs to be configured\";\n    Translations[\"SIGN_IN_ACTION\"] = \"Sign In\";\n    Translations[\"SIGN_IN_HEADER_TEXT\"] = \"Sign in to your account\";\n    Translations[\"SIGN_IN_TEXT\"] = \"Sign in\";\n    Translations[\"SIGN_IN_WITH_AMAZON\"] = \"Sign in with Amazon\";\n    Translations[\"SIGN_IN_WITH_AUTH0\"] = \"Sign in with Auth0\";\n    Translations[\"SIGN_IN_WITH_AWS\"] = \"Sign in with AWS\";\n    Translations[\"SIGN_IN_WITH_FACEBOOK\"] = \"Sign in with Facebook\";\n    Translations[\"SIGN_IN_WITH_GOOGLE\"] = \"Sign in with Google\";\n    Translations[\"SIGN_OUT\"] = \"Sign Out\";\n    Translations[\"SIGN_UP_EMAIL_PLACEHOLDER\"] = \"Email\";\n    Translations[\"SIGN_UP_HAVE_ACCOUNT_TEXT\"] = \"Have an account?\";\n    Translations[\"SIGN_UP_HEADER_TEXT\"] = \"Create a new account\";\n    Translations[\"SIGN_UP_PASSWORD_PLACEHOLDER\"] = \"Password\";\n    Translations[\"SIGN_UP_SUBMIT_BUTTON_TEXT\"] = \"Create Account\";\n    Translations[\"SIGN_UP_USERNAME_PLACEHOLDER\"] = \"Username\";\n    Translations[\"SUCCESS_MFA_TYPE\"] = \"Success! Your MFA Type is now:\";\n    Translations[\"TOTP_HEADER_TEXT\"] = \"Scan then enter verification code\";\n    Translations[\"TOTP_LABEL\"] = \"Enter Security Code:\";\n    Translations[\"TOTP_SETUP_FAILURE\"] = \"TOTP Setup has failed\";\n    Translations[\"TOTP_SUBMIT_BUTTON_TEXT\"] = \"Verify Security Token\";\n    Translations[\"TOTP_SUCCESS_MESSAGE\"] = \"Setup TOTP successfully!\";\n    Translations[\"UNABLE_TO_SETUP_MFA_AT_THIS_TIME\"] = \"Failed! Unable to configure MFA at this time\";\n    Translations[\"USERNAME_LABEL\"] = \"Username *\";\n    Translations[\"USERNAME_PLACEHOLDER\"] = \"Enter your username\";\n    Translations[\"VERIFY_CONTACT_EMAIL_LABEL\"] = \"Email\";\n    Translations[\"VERIFY_CONTACT_HEADER_TEXT\"] = \"Account recovery requires verified contact information\";\n    Translations[\"VERIFY_CONTACT_PHONE_LABEL\"] = \"Phone Number\";\n    Translations[\"VERIFY_CONTACT_SUBMIT_LABEL\"] = \"Submit\";\n    Translations[\"VERIFY_CONTACT_VERIFY_LABEL\"] = \"Verify\";\n    Translations[\"ADDRESS_LABEL\"] = \"Address\";\n    Translations[\"ADDRESS_PLACEHOLDER\"] = \"Enter your address\";\n    Translations[\"NICKNAME_LABEL\"] = \"Nickname\";\n    Translations[\"NICKNAME_PLACEHOLDER\"] = \"Enter your nickname\";\n    Translations[\"BIRTHDATE_LABEL\"] = \"Birthday\";\n    Translations[\"BIRTHDATE_PLACEHOLDER\"] = \"Enter your birthday\";\n    Translations[\"PICTURE_LABEL\"] = \"Picture URL\";\n    Translations[\"PICTURE_PLACEHOLDER\"] = \"Enter your picture URL\";\n    Translations[\"FAMILY_NAME_LABEL\"] = \"Family Name\";\n    Translations[\"FAMILY_NAME_PLACEHOLDER\"] = \"Enter your family name\";\n    Translations[\"PREFERRED_USERNAME_LABEL\"] = \"Preferred Username\";\n    Translations[\"PREFERRED_USERNAME_PLACEHOLDER\"] = \"Enter your preferred username\";\n    Translations[\"GENDER_LABEL\"] = \"Gender\";\n    Translations[\"GENDER_PLACEHOLDER\"] = \"Enter your gender\";\n    Translations[\"PROFILE_LABEL\"] = \"Profile URL\";\n    Translations[\"PROFILE_PLACEHOLDER\"] = \"Enter your profile URL\";\n    Translations[\"GIVEN_NAME_LABEL\"] = \"First Name\";\n    Translations[\"GIVEN_NAME_PLACEHOLDER\"] = \"Enter your first name\";\n    Translations[\"ZONEINFO_LABEL\"] = \"Time zone\";\n    Translations[\"ZONEINFO_PLACEHOLDER\"] = \"Enter your time zone\";\n    Translations[\"LOCALE_LABEL\"] = \"Locale\";\n    Translations[\"LOCALE_PLACEHOLDER\"] = \"Enter your locale\";\n    Translations[\"UPDATED_AT_LABEL\"] = \"Updated At\";\n    Translations[\"UPDATED_AT_PLACEHOLDER\"] = \"Enter the time the information was last updated\";\n    Translations[\"MIDDLE_NAME_LABEL\"] = \"Middle Name\";\n    Translations[\"MIDDLE_NAME_PLACEHOLDER\"] = \"Enter your middle name\";\n    Translations[\"WEBSITE_LABEL\"] = \"Website\";\n    Translations[\"WEBSITE_PLACEHOLDER\"] = \"Enter your website\";\n    Translations[\"NAME_LABEL\"] = \"Full Name\";\n    Translations[\"NAME_PLACEHOLDER\"] = \"Enter your full name\";\n})(Translations || (Translations = {}));\nexport { Translations as T };\n"],"sourceRoot":""}